2025-05-13 12:38:03,268 - slack - INFO - [slack_app.py:27] - Loading environment variables...
2025-05-13 12:38:03,268 - slack - INFO - [slack_app.py:29] - Environment variables loaded successfully
2025-05-13 12:38:03,268 - slack - INFO - [slack_app.py:32] - Initializing Slack app...
2025-05-13 12:38:03,307 - slack_bolt.App - DEBUG - [base_client.py:265] - Sending a request - url: https://slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.23.0 Python/3.13.3 slackclient/3.35.0 Darwin/24.4.0'}
2025-05-13 12:38:04,063 - slack_bolt.App - DEBUG - [base_client.py:556] - Received the following response - status: 200, headers: {'date': 'Tue, 13 May 2025 09:38:04 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '2e24c0c5b0010edfa65930dfd2efe439', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'commands,chat:write,channels:history,groups:history,im:history', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'aCMS-3Nb69cEP49b12gSfQAAwCE', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '189', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-bxuffnvg,envoy-edge-bom-zpyksrnn', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '204', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-ikgm', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/cell-logs.slack.com\/","team":"Cell-logs","user":"lokilens","team_id":"T08RN80K1N3","user_id":"U08SQGNTJU8","bot_id":"B08SQGNSACQ","is_enterprise_install":false}
2025-05-13 12:38:04,063 - slack - INFO - [slack_app.py:34] - Slack app initialized successfully
2025-05-13 12:38:04,063 - slack - INFO - [slack_app.py:37] - Initializing S3 operations...
2025-05-13 12:38:04,063 - s3 - INFO - [s3_operations.py:14] - Initializing S3 operations
2025-05-13 12:38:04,064 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2025-05-13 12:38:04,065 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-call.apigateway to before-call.api-gateway
2025-05-13 12:38:04,065 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2025-05-13 12:38:04,066 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2025-05-13 12:38:04,066 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2025-05-13 12:38:04,066 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2025-05-13 12:38:04,066 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2025-05-13 12:38:04,067 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2025-05-13 12:38:04,067 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2025-05-13 12:38:04,067 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2025-05-13 12:38:04,067 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2025-05-13 12:38:04,070 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/endpoints.json
2025-05-13 12:38:04,079 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/sdk-default-configuration.json
2025-05-13 12:38:04,079 - botocore.hooks - DEBUG - [hooks.py:238] - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1028a1620>
2025-05-13 12:38:04,093 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/s3/2006-03-01/service-2.json.gz
2025-05-13 12:38:04,098 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/s3/2006-03-01/service-2.sdk-extras.json
2025-05-13 12:38:04,109 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2025-05-13 12:38:04,111 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/partitions.json
2025-05-13 12:38:04,112 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1027c76a0>
2025-05-13 12:38:04,113 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x104946340>
2025-05-13 12:38:04,129 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x1027c7420>
2025-05-13 12:38:04,129 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_service
2025-05-13 12:38:04,129 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_global
2025-05-13 12:38:04,129 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_service
2025-05-13 12:38:04,129 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_global
2025-05-13 12:38:04,129 - botocore.configprovider - DEBUG - [configprovider.py:1005] - No configured endpoint found.
2025-05-13 12:38:04,131 - botocore.endpoint - DEBUG - [endpoint.py:414] - Setting s3 timeout as (60, 60)
2025-05-13 12:38:04,132 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/_retry.json
2025-05-13 12:38:04,132 - botocore.client - DEBUG - [client.py:290] - Registering retry handlers for service: s3
2025-05-13 12:38:04,133 - botocore.utils - DEBUG - [utils.py:1718] - Registering S3 region redirector handler
2025-05-13 12:38:04,133 - botocore.utils - DEBUG - [utils.py:1666] - Registering S3Express Identity Resolver
2025-05-13 12:38:04,133 - s3 - INFO - [s3_operations.py:24] - S3 client initialized successfully
2025-05-13 12:38:04,133 - slack - INFO - [slack_app.py:42] - S3 operations initialized successfully
2025-05-13 12:38:04,133 - slack - INFO - [slack_app.py:45] - Initializing OpenAI client...
2025-05-13 12:38:04,155 - slack - INFO - [slack_app.py:47] - OpenAI client initialized successfully
2025-05-13 12:38:04,155 - slack - INFO - [slack_app.py:50] - Initializing MCP client...
2025-05-13 12:38:04,155 - mcp - INFO - [mcp_client.py:30] - Initializing LogSearchClient...
2025-05-13 12:38:04,155 - mcp - INFO - [mcp_client.py:45] - Initializing OpenAI client...
2025-05-13 12:38:04,161 - mcp - INFO - [mcp_client.py:48] - OpenAI client initialized successfully
2025-05-13 12:38:04,161 - mcp - INFO - [mcp_client.py:53] - Initializing MCP tools...
2025-05-13 12:38:04,161 - mcp - INFO - [mcp_client.py:165] - Connecting to MCP server at http://localhost:8000/mcp
2025-05-13 12:38:04,163 - urllib3.connectionpool - DEBUG - [connectionpool.py:241] - Starting new HTTP connection (1): localhost:8000
2025-05-13 12:38:04,182 - urllib3.connectionpool - DEBUG - [connectionpool.py:544] - http://localhost:8000 "GET /mcp HTTP/1.1" 200 None
2025-05-13 12:38:04,183 - mcp - INFO - [mcp_client.py:180] - Response status code: 200
2025-05-13 12:38:04,183 - mcp - INFO - [mcp_client.py:181] - Response headers: {'date': 'Tue, 13 May 2025 09:38:03 GMT', 'server': 'uvicorn', 'cache-control': 'no-store', 'connection': 'keep-alive', 'x-accel-buffering': 'no', 'content-type': 'text/event-stream; charset=utf-8', 'Transfer-Encoding': 'chunked'}
2025-05-13 12:38:04,183 - sseclient - DEBUG - [__init__.py:32] - Initialized SSE client from event source <Response [200]>
2025-05-13 12:38:04,186 - sseclient - DEBUG - [__init__.py:108] - Dispatching endpoint event, 58 bytes...
2025-05-13 12:38:04,186 - mcp - INFO - [mcp_client.py:190] - Received session ID: 6cae246419f44f87a1cd4143af121b94
2025-05-13 12:38:04,186 - mcp - INFO - [mcp_client.py:56] - MCP tools initialized successfully
2025-05-13 12:38:04,186 - slack - INFO - [slack_app.py:52] - MCP client initialized successfully
2025-05-13 12:38:04,186 - __main__ - INFO - [main.py:34] - 🚀 Starting Loki Lens application...
2025-05-13 12:38:04,187 - s3 - INFO - [s3_operations.py:14] - Initializing S3 operations
2025-05-13 12:38:04,187 - botocore.hooks - DEBUG - [hooks.py:238] - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1028a1620>
2025-05-13 12:38:04,187 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1027c76a0>
2025-05-13 12:38:04,187 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x104946340>
2025-05-13 12:38:04,187 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x1027c7420>
2025-05-13 12:38:04,187 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_service
2025-05-13 12:38:04,188 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_global
2025-05-13 12:38:04,188 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_service
2025-05-13 12:38:04,188 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_global
2025-05-13 12:38:04,188 - botocore.configprovider - DEBUG - [configprovider.py:1005] - No configured endpoint found.
2025-05-13 12:38:04,188 - botocore.endpoint - DEBUG - [endpoint.py:414] - Setting s3 timeout as (60, 60)
2025-05-13 12:38:04,190 - botocore.client - DEBUG - [client.py:290] - Registering retry handlers for service: s3
2025-05-13 12:38:04,190 - botocore.utils - DEBUG - [utils.py:1718] - Registering S3 region redirector handler
2025-05-13 12:38:04,190 - botocore.utils - DEBUG - [utils.py:1666] - Registering S3Express Identity Resolver
2025-05-13 12:38:04,190 - s3 - INFO - [s3_operations.py:24] - S3 client initialized successfully
2025-05-13 12:38:04,190 - slack - INFO - [slack_app.py:418] - Starting Slack app in Socket Mode
2025-05-13 12:38:04,190 - __main__ - INFO - [main.py:53] - ✅ Slack integration started
2025-05-13 12:38:04,191 - slack_bolt.App - DEBUG - [base_client.py:265] - Sending a request - url: https://slack.com/api/apps.connections.open, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.23.0 Python/3.13.3 slackclient/3.35.0 Darwin/24.4.0'}
2025-05-13 12:38:05,000 - slack_bolt.App - DEBUG - [base_client.py:556] - Received the following response - status: 200, headers: {'date': 'Tue, 13 May 2025 09:38:04 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '319da621a83bb1a076a6ae80793b4d7f', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'x-robots-tag': 'noindex,nofollow', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'connections:write', 'x-oauth-scopes': 'connections:write,authorizations:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'aCMS_BJAyYnT6tMpngJdDQAAYBs', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '173', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-jakuaqgo,envoy-edge-bom-pouitcdy', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '208', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-cdko', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"wss:\/\/wss-primary.slack.com\/link\/?ticket=79610738-8c56-472c-86fc-d223ec33cb5a&app_id=80ecbf266142da985b68b05f1ff313c100b9cdf30b305f7e8a16dce5f531ab94"}
2025-05-13 12:38:05,943 - slack_bolt.App - INFO - [client.py:193] - A new session has been established (session id: 63e2ef6a-2aec-446b-a5b9-2d913497943f)
2025-05-13 12:38:05,943 - slack_bolt.App - INFO - [base_handler.py:51] - ⚡️ Bolt app is running!
2025-05-13 12:38:05,962 - slack_bolt.App - INFO - [client.py:266] - Starting to receive messages from a new connection (session id: 63e2ef6a-2aec-446b-a5b9-2d913497943f)
2025-05-13 12:38:05,968 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"type":"hello","num_connections":1,"debug_info":{"host":"applink-11","build_number":117,"approximate_connection_time":18060},"connection_info":{"app_id":"A08SQGEHMSL"}})
2025-05-13 12:38:05,980 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 12:38:05,987 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 12:38:06,000 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: hello, envelope_id: None)
2025-05-13 12:38:06,012 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: hello, envelope_id: None)
2025-05-13 12:39:12,745 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"envelope_id":"d4d353c8-820b-4307-a3c5-26ea1a0882c5","payload":{"token":"K4ZhpQOf4Bh1W7IgNZugkX3V","team_id":"T08RN80K1N3","team_domain":"cell-logs","channel_id":"C08RN80PTP1","channel_name":"all-cell-logs","user_id":"U08RN80KECX","user_name":"emmanuel.kipngetich","command":"\/lokilens","text":"what happened to this  transaction  672375962477797376 on February 2, 2025 at 23:29","api_app_id":"A08SQGEHMSL","is_enterprise_install":"false","response_url":"https:\/\/hooks.slack.com\/commands\/T08RN80K1N3\/8890328347554\/izFHrFZwWndPzWiqa2GTRptC","trigger_id":"8890328418370.8872272647751.ef2074b687351d3be7b7ae9a86ccab13"},"type":"slash_commands","accepts_response_payload":true})
2025-05-13 12:39:12,753 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 12:39:12,759 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 12:39:12,787 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: slash_commands, envelope_id: d4d353c8-820b-4307-a3c5-26ea1a0882c5)
2025-05-13 12:39:12,839 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2025-05-13 12:39:12,839 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2025-05-13 12:39:12,839 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2025-05-13 12:39:12,840 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2025-05-13 12:39:12,840 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2025-05-13 12:39:12,846 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.attaching_function_token.attaching_function_token.AttachingFunctionToken
2025-05-13 12:39:12,852 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_message_events ...
2025-05-13 12:39:12,853 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_loki_command ...
2025-05-13 12:39:12,853 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_lokilens_command ...
2025-05-13 12:39:12,853 - slack_bolt.App - DEBUG - [app.py:612] - Running listener: handle_lokilens_command ...
2025-05-13 12:39:12,860 - slack - INFO - [slack_app.py:351] - Received /lokilens command: {'token': 'K4ZhpQOf4Bh1W7IgNZugkX3V', 'team_id': 'T08RN80K1N3', 'team_domain': 'cell-logs', 'channel_id': 'C08RN80PTP1', 'channel_name': 'all-cell-logs', 'user_id': 'U08RN80KECX', 'user_name': 'emmanuel.kipngetich', 'command': '/lokilens', 'text': 'what happened to this  transaction  672375962477797376 on February 2, 2025 at 23:29', 'api_app_id': 'A08SQGEHMSL', 'is_enterprise_install': 'false', 'response_url': 'https://hooks.slack.com/commands/T08RN80K1N3/8890328347554/izFHrFZwWndPzWiqa2GTRptC', 'trigger_id': '8890328418370.8872272647751.ef2074b687351d3be7b7ae9a86ccab13'}
2025-05-13 12:39:12,865 - slack - DEBUG - [slack_app.py:356] - Command text: what happened to this  transaction  672375962477797376 on February 2, 2025 at 23:29
2025-05-13 12:39:12,878 - slack - INFO - [slack_app.py:368] - Starting natural language parsing
2025-05-13 12:39:12,891 - slack_bolt.App - DEBUG - [thread_runner.py:202] - Responding with status: 200 body: "Searching logs for: what happened to this  transaction  672375962477797376 on February 2, 2025 at 23:29" (32 millis)
2025-05-13 12:39:12,891 - slack - INFO - [slack_app.py:203] - Parsing natural language input: what happened to this  transaction  672375962477797376 on February 2, 2025 at 23:29
2025-05-13 12:39:12,903 - slack_bolt.App - DEBUG - [client.py:201] - Sending a message (session id: 63e2ef6a-2aec-446b-a5b9-2d913497943f, message: {"envelope_id": "d4d353c8-820b-4307-a3c5-26ea1a0882c5", "payload": {"text": "Searching logs for: what happened to this  transaction  672375962477797376 on February 2, 2025 at 23:29"}})
2025-05-13 12:39:12,909 - slack - DEBUG - [slack_app.py:229] - Sending request to OpenAI for parsing
2025-05-13 12:39:12,922 - slack_bolt.App - DEBUG - [internals.py:42] - Response time: 93 milliseconds
2025-05-13 12:39:12,930 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: slash_commands, envelope_id: d4d353c8-820b-4307-a3c5-26ea1a0882c5)
2025-05-13 12:39:18,218 - openai._base_client - DEBUG - [_base_client.py:482] - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-ce4b9fde-4d0c-459e-b848-d926f935655c', 'json_data': {'messages': [{'role': 'user', 'content': "\n    Parse the following text into a search ID and a time range.\n    The time range should be in the format YYYYMMDDHHMM (e.g., 202205130933 for May 13, 2022 at 09:33).\n    If the time is not specified, use the current time.\n    If the date is not specified, use today's date.\n    \n    Text: what happened to this  transaction  672375962477797376 on February 2, 2025 at 23:29\n    \n    Return ONLY the search ID and time range in this exact format:\n    search_id: <id>\n    time_range: <YYYYMMDDHHMM>\n    \n    Do not include any other text or explanation.\n    "}], 'model': 'gpt-4', 'max_tokens': 100}}
2025-05-13 12:39:18,389 - openai._base_client - DEBUG - [_base_client.py:965] - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-05-13 12:39:18,389 - httpcore.connection - DEBUG - [_trace.py:47] - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-05-13 12:39:18,589 - httpcore.connection - DEBUG - [_trace.py:47] - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x109ca7230>
2025-05-13 12:39:18,602 - httpcore.connection - DEBUG - [_trace.py:47] - start_tls.started ssl_context=<ssl.SSLContext object at 0x1098feba0> server_hostname='api.openai.com' timeout=5.0
2025-05-13 12:39:18,666 - httpcore.connection - DEBUG - [_trace.py:47] - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10a04e850>
2025-05-13 12:39:18,666 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.started request=<Request [b'POST']>
2025-05-13 12:39:18,672 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.complete
2025-05-13 12:39:18,672 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.started request=<Request [b'POST']>
2025-05-13 12:39:18,685 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.complete
2025-05-13 12:39:18,698 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.started request=<Request [b'POST']>
2025-05-13 12:39:20,618 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 13 May 2025 09:39:20 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hhmri584teit9d0pqdaekcnd'), (b'openai-processing-ms', b'1258'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1262'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9858'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'852ms'), (b'x-request-id', b'req_af9f6bb60ff891dfe8ae747ef37f8d16'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=.3.nL3KZbai_.JZS16EL2BuHihkuLEQSCxc.VklPSQ0-1747129160-1.0.1.1-JT4aNUsJLp1FooHf1pbiLqEp9n59jzhl1M6QrlhHE1A1IJ8AzH3xthIvIRE1ebRnjEM62YpvShps81d4d5g65xJYxFWZiM22nHublXtvha4; path=/; expires=Tue, 13-May-25 10:09:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=CWvIcOo5vT4I8V_KJH8Y9aKLf35Fb6BenKnBEITfFyg-1747129160771-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'93f1301ada6d8a5f-MBA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-13 12:39:20,626 - httpx - INFO - [_client.py:1025] - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 12:39:20,626 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.started request=<Request [b'POST']>
2025-05-13 12:39:20,639 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.complete
2025-05-13 12:39:20,639 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.started
2025-05-13 12:39:20,652 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.complete
2025-05-13 12:39:20,664 - openai._base_client - DEBUG - [_base_client.py:1003] - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 13 May 2025 09:39:20 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hhmri584teit9d0pqdaekcnd'), ('openai-processing-ms', '1258'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '1262'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9858'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '852ms'), ('x-request-id', 'req_af9f6bb60ff891dfe8ae747ef37f8d16'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=.3.nL3KZbai_.JZS16EL2BuHihkuLEQSCxc.VklPSQ0-1747129160-1.0.1.1-JT4aNUsJLp1FooHf1pbiLqEp9n59jzhl1M6QrlhHE1A1IJ8AzH3xthIvIRE1ebRnjEM62YpvShps81d4d5g65xJYxFWZiM22nHublXtvha4; path=/; expires=Tue, 13-May-25 10:09:20 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=CWvIcOo5vT4I8V_KJH8Y9aKLf35Fb6BenKnBEITfFyg-1747129160771-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '93f1301ada6d8a5f-MBA'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-05-13 12:39:20,671 - openai._base_client - DEBUG - [_base_client.py:1011] - request_id: req_af9f6bb60ff891dfe8ae747ef37f8d16
2025-05-13 12:39:20,673 - slack - DEBUG - [slack_app.py:238] - Received parsing response: search_id: 672375962477797376
time_range: 202502022329
2025-05-13 12:39:20,673 - slack - INFO - [slack_app.py:247] - Successfully parsed input - search_id: 672375962477797376, time_range: 202502022329
2025-05-13 12:39:20,684 - slack - INFO - [slack_app.py:370] - Parsed input - search_id: 672375962477797376, time_range: 202502022329, is_followup: True
2025-05-13 12:39:20,684 - slack - INFO - [slack_app.py:389] - Searching logs using MCP client
2025-05-13 12:39:20,690 - mcp - INFO - [mcp_client.py:239] - Searching logs for ID: 672375962477797376 with time ranges: ['202502022329']
2025-05-13 12:39:20,712 - urllib3.connectionpool - DEBUG - [connectionpool.py:241] - Starting new HTTP connection (1): localhost:8000
2025-05-13 12:39:23,513 - urllib3.connectionpool - DEBUG - [connectionpool.py:544] - http://localhost:8000 "POST /api/search HTTP/1.1" 200 20802
2025-05-13 12:39:23,539 - slack - DEBUG - [slack_app.py:391] - MCP client response: {'search_id': '672375962477797376', 'time_ranges': ['202502022329'], 'results': {'checkout-request-service': [{'container_name': 'checkout-request-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-request-service-778b5dbb86-m9b8x_approval_checkout-request-service-e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0.log\t{"time":"2025-02-02T23:29:00.202066773Z","stream":"stdout","logtag":"F","message":"2025-02-02T23:29:00.201Z  INFO [checkout-request-service,679fffbc000000000a0679f695451425,7d144dc0fdcb2009] 1 --- [checkout-request-service] [nio-8080-exec-3] [679fffbc000000000a0679f695451425-7d144dc0fdcb2009] com.cellulant.configuration.Logger       : TRACE-ID : 679fffbc000000000a0679f695451425 | SPAN-ID : 7d144dc0fdcb2009 | com.cellulant.services.CheckoutRequestService | Checkout-request-service:Finding transaction based on gatewayTransactionId=672375962477797376","kubernetes":{"pod_name":"checkout-request-service-778b5dbb86-m9b8x","namespace_name":"approval","pod_id":"101d3d24-2784-46e4-9cf5-2ab4567d4764","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-request-service","app.kubernetes.io/name":"checkout-request-service","pod-template-hash":"778b5dbb86","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-request-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1","prometheus.io/path":"/actuator/prometheus","prometheus.io/port":"8080","prometheus.io/scrape":"true"},"host":"ip-10-107-118-6.eu-west-1.compute.internal","container_name":"checkout-request-service","docker_id":"e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app@sha256:c03cf238e9f754ea116b379bc13f21eadb868b44a4e5bf1eb6743c0806f5bf27","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app:approval-82285df3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-request-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-request-service-778b5dbb86-m9b8x_approval_checkout-request-service-e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0.log\t{"time":"2025-02-02T23:29:00.202066773Z","stream":"stdout","logtag":"F","message":"2025-02-02T23:29:00.201Z  INFO [checkout-request-service,679fffbc000000000a0679f695451425,7d144dc0fdcb2009] 1 --- [checkout-request-service] [nio-8080-exec-3] [679fffbc000000000a0679f695451425-7d144dc0fdcb2009] com.cellulant.configuration.Logger       : TRACE-ID : 679fffbc000000000a0679f695451425 | SPAN-ID : 7d144dc0fdcb2009 | com.cellulant.services.CheckoutRequestService | Checkout-request-service:Finding transaction based on gatewayTransactionId=672375962477797376","kubernetes":{"pod_name":"checkout-request-service-778b5dbb86-m9b8x","namespace_name":"approval","pod_id":"101d3d24-2784-46e4-9cf5-2ab4567d4764","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-request-service","app.kubernetes.io/name":"checkout-request-service","pod-template-hash":"778b5dbb86","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-request-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1","prometheus.io/path":"/actuator/prometheus","prometheus.io/port":"8080","prometheus.io/scrape":"true"},"host":"ip-10-107-118-6.eu-west-1.compute.internal","container_name":"checkout-request-service","docker_id":"e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app@sha256:c03cf238e9f754ea116b379bc13f21eadb868b44a4e5bf1eb6743c0806f5bf27","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app:approval-82285df3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}], 'checkout-payment-service': [{'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.18618989Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.186  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.controllers.PaymentController | Request payload: {\\"extraData\\":{\\"115651388\\":{\\"hubID\\":0,\\"callbackUrl\\":\\"https://webhook.site/56247f6d-83eb-4c89-8363-ef77d1fcd123\\"}},\\"amount_paid\\":1591.0,\\"payment_option_transaction_id\\":\\"9d72720e-3682-428e-9dbd-b474683a9d76\\",\\"gateway_transaction_id\\":\\"672375962477797376\\",\\"currency_code\\":\\"KES\\",\\"country_code\\":\\"KEN\\",\\"account_number\\":\\"acc_3209028\\",\\"customer_name\\":\\"Customer\\",\\"payment_msisdn\\":254700000000,\\"payment_option_narration\\":\\"INV_6799f155a66887.86544965\\",\\"date_payment_received\\":\\"2025-01-29 12:42:06\\",\\"service_charge_amount\\":0.0,\\"service_code\\":\\"KQSBOX\\",\\"gateway_overall_status\\":139,\\"payment_option_code\\":\\"DTBKE-MB\\",\\"psedo_service_code\\":null}","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.187788894Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.187  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | Received the payment payload: PaymentInputDto(amountPaid=1591.0, paymentOptionTransactionId=9d72720e-3682-428e-9dbd-b474683a9d76, gatewayTransactionId=672375962477797376, currencyCode=KES, countryCode=KEN, accountNumber=acc_3209028, customerName=Customer, paymentMsisdn=254700000000, paymentOptionNarration=INV_6799f155a66887.86544965, datePaymentReceived=Wed Jan 29 12:42:06 UTC 2025, serviceChargeAmount=0.0, serviceCode=KQSBOX, gatewayOverallStatus=139, paymentOptionCode=DTBKE-MB, psedoServiceCode=null, extraData={\\"115651388\\":{\\"hubID\\":0,\\"callbackUrl\\":\\"https://webhook.site/56247f6d-83eb-4c89-8363-ef77d1fcd123\\"}})","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.205908023Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.205  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.212786936Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.212  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.220445314Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.220  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.228701396Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.228  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.228790144Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.228  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | 672375962477797376 ServiceCode : KQSBOX - Creating Service For Static Account... ","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.231421227Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.231 ERROR [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | 672375962477797376 ServiceCode : KQSBOX - Error while saving the payment request: null","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}]}, 'total_results': 10}
2025-05-13 12:39:23,552 - slack - INFO - [slack_app.py:401] - Found 2 containers with logs
2025-05-13 12:39:23,559 - slack - INFO - [slack_app.py:127] - Cached search results for 672375962477797376_202502022329
2025-05-13 12:39:23,565 - slack - INFO - [slack_app.py:407] - Generating response
2025-05-13 12:39:23,571 - slack - INFO - [slack_app.py:148] - Generating response for search_id: 672375962477797376 (followup: False)
2025-05-13 12:39:23,571 - slack - DEBUG - [slack_app.py:155] - Formatting results for OpenAI prompt
2025-05-13 12:39:23,578 - slack - DEBUG - [slack_app.py:180] - Sending request to OpenAI
2025-05-13 12:39:23,579 - openai._base_client - DEBUG - [_base_client.py:482] - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-b132ad55-5c66-41cb-b55e-ed65193164b1', 'json_data': {'messages': [{'role': 'user', 'content': '\n    I searched for logs with ID: 672375962477797376. Here are the results:\n    Container: checkout-request-service (2 matches)\n{\n  "container_name": "checkout-request-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-request-service-778b5dbb86-m9b8x_approval_checkout-request-service-e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0.log\\t{\\"time\\":\\"2025-02-02T23:29:00.202066773Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025-02-02T23:29:00.201Z  INFO [checkout-request-service,679fffbc000000000a0679f695451425,7d144dc0fdcb2009] 1 --- [checkout-request-service] [nio-8080-exec-3] [679fffbc000000000a0679f695451425-7d144dc0fdcb2009] com.cellulant.configuration.Logger       : TRACE-ID : 679fffbc000000000a0679f695451425 | SPAN-ID : 7d144dc0fdcb2009 | com.cellulant.services.CheckoutRequestService | Checkout-request-service:Finding transaction based on gatewayTransactionId=672375962477797376\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-request-service-778b5dbb86-m9b8x\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"101d3d24-2784-46e4-9cf5-2ab4567d4764\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-request-service\\",\\"app.kubernetes.io/name\\":\\"checkout-request-service\\",\\"pod-template-hash\\":\\"778b5dbb86\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-request-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\",\\"prometheus.io/path\\":\\"/actuator/prometheus\\",\\"prometheus.io/port\\":\\"8080\\",\\"prometheus.io/scrape\\":\\"true\\"},\\"host\\":\\"ip-10-107-118-6.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-request-service\\",\\"docker_id\\":\\"e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app@sha256:c03cf238e9f754ea116b379bc13f21eadb868b44a4e5bf1eb6743c0806f5bf27\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app:approval-82285df3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-request-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-request-service-778b5dbb86-m9b8x_approval_checkout-request-service-e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0.log\\t{\\"time\\":\\"2025-02-02T23:29:00.202066773Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025-02-02T23:29:00.201Z  INFO [checkout-request-service,679fffbc000000000a0679f695451425,7d144dc0fdcb2009] 1 --- [checkout-request-service] [nio-8080-exec-3] [679fffbc000000000a0679f695451425-7d144dc0fdcb2009] com.cellulant.configuration.Logger       : TRACE-ID : 679fffbc000000000a0679f695451425 | SPAN-ID : 7d144dc0fdcb2009 | com.cellulant.services.CheckoutRequestService | Checkout-request-service:Finding transaction based on gatewayTransactionId=672375962477797376\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-request-service-778b5dbb86-m9b8x\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"101d3d24-2784-46e4-9cf5-2ab4567d4764\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-request-service\\",\\"app.kubernetes.io/name\\":\\"checkout-request-service\\",\\"pod-template-hash\\":\\"778b5dbb86\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-request-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\",\\"prometheus.io/path\\":\\"/actuator/prometheus\\",\\"prometheus.io/port\\":\\"8080\\",\\"prometheus.io/scrape\\":\\"true\\"},\\"host\\":\\"ip-10-107-118-6.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-request-service\\",\\"docker_id\\":\\"e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app@sha256:c03cf238e9f754ea116b379bc13f21eadb868b44a4e5bf1eb6743c0806f5bf27\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app:approval-82285df3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\nContainer: checkout-payment-service (8 matches)\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.18618989Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.186  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.controllers.PaymentController | Request payload: {\\\\\\"extraData\\\\\\":{\\\\\\"115651388\\\\\\":{\\\\\\"hubID\\\\\\":0,\\\\\\"callbackUrl\\\\\\":\\\\\\"https://webhook.site/56247f6d-83eb-4c89-8363-ef77d1fcd123\\\\\\"}},\\\\\\"amount_paid\\\\\\":1591.0,\\\\\\"payment_option_transaction_id\\\\\\":\\\\\\"9d72720e-3682-428e-9dbd-b474683a9d76\\\\\\",\\\\\\"gateway_transaction_id\\\\\\":\\\\\\"672375962477797376\\\\\\",\\\\\\"currency_code\\\\\\":\\\\\\"KES\\\\\\",\\\\\\"country_code\\\\\\":\\\\\\"KEN\\\\\\",\\\\\\"account_number\\\\\\":\\\\\\"acc_3209028\\\\\\",\\\\\\"customer_name\\\\\\":\\\\\\"Customer\\\\\\",\\\\\\"payment_msisdn\\\\\\":254700000000,\\\\\\"payment_option_narration\\\\\\":\\\\\\"INV_6799f155a66887.86544965\\\\\\",\\\\\\"date_payment_received\\\\\\":\\\\\\"2025-01-29 12:42:06\\\\\\",\\\\\\"service_charge_amount\\\\\\":0.0,\\\\\\"service_code\\\\\\":\\\\\\"KQSBOX\\\\\\",\\\\\\"gateway_overall_status\\\\\\":139,\\\\\\"payment_option_code\\\\\\":\\\\\\"DTBKE-MB\\\\\\",\\\\\\"psedo_service_code\\\\\\":null}\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.187788894Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.187  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | Received the payment payload: PaymentInputDto(amountPaid=1591.0, paymentOptionTransactionId=9d72720e-3682-428e-9dbd-b474683a9d76, gatewayTransactionId=672375962477797376, currencyCode=KES, countryCode=KEN, accountNumber=acc_3209028, customerName=Customer, paymentMsisdn=254700000000, paymentOptionNarration=INV_6799f155a66887.86544965, datePaymentReceived=Wed Jan 29 12:42:06 UTC 2025, serviceChargeAmount=0.0, serviceCode=KQSBOX, gatewayOverallStatus=139, paymentOptionCode=DTBKE-MB, psedoServiceCode=null, extraData={\\\\\\"115651388\\\\\\":{\\\\\\"hubID\\\\\\":0,\\\\\\"callbackUrl\\\\\\":\\\\\\"https://webhook.site/56247f6d-83eb-4c89-8363-ef77d1fcd123\\\\\\"}})\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.205908023Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.205  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.212786936Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.212  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.220445314Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.220  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.228701396Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.228  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.228790144Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.228  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | 672375962477797376 ServiceCode : KQSBOX - Creating Service For Static Account... \\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.231421227Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.231 ERROR [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | 672375962477797376 ServiceCode : KQSBOX - Error while saving the payment request: null\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n\n    \n    Please provide:\n    1. A concise summary of what happened\n    2. Any errors or issues found\n    3. Suggested follow-up actions or questions\n    \n    If this is a follow-up question, focus on providing additional insights or analysis based on the existing logs.\n    '}], 'model': 'gpt-4', 'max_tokens': 500}}
2025-05-13 12:39:23,586 - openai._base_client - DEBUG - [_base_client.py:965] - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-05-13 12:39:23,592 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.started request=<Request [b'POST']>
2025-05-13 12:39:23,598 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.complete
2025-05-13 12:39:23,598 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.started request=<Request [b'POST']>
2025-05-13 12:39:23,611 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.complete
2025-05-13 12:39:23,617 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.started request=<Request [b'POST']>
2025-05-13 12:39:30,958 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 13 May 2025 09:39:31 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hhmri584teit9d0pqdaekcnd'), (b'openai-processing-ms', b'7048'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'7051'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'4690'), (b'x-ratelimit-reset-requests', b'12.696s'), (b'x-ratelimit-reset-tokens', b'31.86s'), (b'x-request-id', b'req_1782d0f39ca5ed579bc11e712517ef0e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'93f130399f3f8a5f-MBA'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-13 12:39:30,972 - httpx - INFO - [_client.py:1025] - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 12:39:30,985 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.started request=<Request [b'POST']>
2025-05-13 12:39:31,015 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.complete
2025-05-13 12:39:31,028 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.started
2025-05-13 12:39:31,034 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.complete
2025-05-13 12:39:31,040 - openai._base_client - DEBUG - [_base_client.py:1003] - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Tue, 13 May 2025 09:39:31 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hhmri584teit9d0pqdaekcnd', 'openai-processing-ms': '7048', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '7051', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '4690', 'x-ratelimit-reset-requests': '12.696s', 'x-ratelimit-reset-tokens': '31.86s', 'x-request-id': 'req_1782d0f39ca5ed579bc11e712517ef0e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '93f130399f3f8a5f-MBA', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-05-13 12:39:31,052 - openai._base_client - DEBUG - [_base_client.py:1011] - request_id: req_1782d0f39ca5ed579bc11e712517ef0e
2025-05-13 12:39:31,054 - slack - INFO - [slack_app.py:409] - Sending response to Slack
2025-05-13 12:39:31,062 - slack_bolt.App - DEBUG - [base_client.py:265] - Sending a request - url: https://slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C08RN80PTP1', 'text': '1. Summary: A transaction was proccessed with ID 672375962477797376. The "checkout-request-service" and "checkout-payment-service" had corresponded with this transaction. "checkout-request-service" was finding the transaction based on the given transaction id. The "checkout-payment-service" received the payload for the transaction, however it seems to have issues in saving the payment request.\n\n2. Issues: There is an issue in the "checkout-payment-service". The logs show a null error when the service tried to save the payment request.\n\n3. Suggested Actions: Due to the null error when saving the payment request, I would suggest to check the state of the payment request object before it was processed for saving. It can be possible that some required fields are missing or null which is resulting in the error. Debug the "checkout-payment-service" process especially where saving of the payment request takes place to identify the issue.\n\n💡 You can ask follow-up questions about these logs by just typing your question in the channel.', 'team_id': 'T08RN80K1N3'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.13.3 slackclient/3.35.0 Darwin/24.4.0'}
2025-05-13 12:39:31,940 - slack_bolt.App - DEBUG - [base_client.py:556] - Received the following response - status: 200, headers: {'date': 'Tue, 13 May 2025 09:39:31 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '32e3ff7d95c21f6d915f409903f0b188', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'commands,chat:write,channels:history,groups:history,im:history', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'aCMTU3SU8MRIdLtZ5lQuVAAAEBk', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '2949', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-iburgaip,envoy-edge-canary-bom-rphsejli', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '262', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-vlnc', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C08RN80PTP1","ts":"1747129171.845509","message":{"user":"U08SQGNTJU8","type":"message","ts":"1747129171.845509","bot_id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","text":"1. Summary: A transaction was proccessed with ID 672375962477797376. The \"checkout-request-service\" and \"checkout-payment-service\" had corresponded with this transaction. \"checkout-request-service\" was finding the transaction based on the given transaction id. The \"checkout-payment-service\" received the payload for the transaction, however it seems to have issues in saving the payment request.\n\n2. Issues: There is an issue in the \"checkout-payment-service\". The logs show a null error when the service tried to save the payment request.\n\n3. Suggested Actions: Due to the null error when saving the payment request, I would suggest to check the state of the payment request object before it was processed for saving. It can be possible that some required fields are missing or null which is resulting in the error. Debug the \"checkout-payment-service\" process especially where saving of the payment request takes place to identify the issue.\n\n:bulb: You can ask follow-up questions about these logs by just typing your question in the channel.","team":"T08RN80K1N3","bot_profile":{"id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","user_id":"U08SQGNTJU8","name":"Lokilens","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1747104773,"team_id":"T08RN80K1N3"},"blocks":[{"type":"rich_text","block_id":"XC57","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"1. Summary: A transaction was proccessed with ID 672375962477797376. The \"checkout-request-service\" and \"checkout-payment-service\" had corresponded with this transaction. \"checkout-request-service\" was finding the transaction based on the given transaction id. The \"checkout-payment-service\" received the payload for the transaction, however it seems to have issues in saving the payment request.\n\n2. Issues: There is an issue in the \"checkout-payment-service\". The logs show a null error when the service tried to save the payment request.\n\n3. Suggested Actions: Due to the null error when saving the payment request, I would suggest to check the state of the payment request object before it was processed for saving. It can be possible that some required fields are missing or null which is resulting in the error. Debug the \"checkout-payment-service\" process especially where saving of the payment request takes place to identify the issue.\n\n"},{"type":"emoji","name":"bulb","unicode":"1f4a1"},{"type":"text","text":" You can ask follow-up questions about these logs by just typing your question in the channel."}]}]}]}}
2025-05-13 12:39:33,454 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"envelope_id":"05bb6878-702b-45f5-a406-34bdec073da5","payload":{"token":"K4ZhpQOf4Bh1W7IgNZugkX3V","team_id":"T08RN80K1N3","context_team_id":"T08RN80K1N3","context_enterprise_id":null,"api_app_id":"A08SQGEHMSL","event":{"user":"U08SQGNTJU8","type":"message","ts":"1747129171.845509","bot_id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","text":"1. Summary: A transaction was proccessed with ID 672375962477797376. The \"checkout-request-service\" and \"checkout-payment-service\" had corresponded with this transaction. \"checkout-request-service\" was finding the transaction based on the given transaction id. The \"checkout-payment-service\" received the payload for the transaction, however it seems to have issues in saving the payment request.\n\n2. Issues: There is an issue in the \"checkout-payment-service\". The logs show a null error when the service tried to save the payment request.\n\n3. Suggested Actions: Due to the null error when saving the payment request, I would suggest to check the state of the payment request object before it was processed for saving. It can be possible that some required fields are missing or null which is resulting in the error. Debug the \"checkout-payment-service\" process especially where saving of the payment request takes place to identify the issue.\n\n:bulb: You can ask follow-up questions about these logs by just typing your question in the channel.","team":"T08RN80K1N3","bot_profile":{"id":"B08SQGNSACQ","deleted":false,"name":"Lokilens","updated":1747104773,"app_id":"A08SQGEHMSL","user_id":"U08SQGNTJU8","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"team_id":"T08RN80K1N3"},"blocks":[{"type":"rich_text","block_id":"ZDO=c","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"1. Summary: A transaction was proccessed with ID 672375962477797376. The \"checkout-request-service\" and \"checkout-payment-service\" had corresponded with this transaction. \"checkout-request-service\" was finding the transaction based on the given transaction id. The \"checkout-payment-service\" received the payload for the transaction, however it seems to have issues in saving the payment request.\n\n2. Issues: There is an issue in the \"checkout-payment-service\". The logs show a null error when the service tried to save the payment request.\n\n3. Suggested Actions: Due to the null error when saving the payment request, I would suggest to check the state of the payment request object before it was processed for saving. It can be possible that some required fields are missing or null which is resulting in the error. Debug the \"checkout-payment-service\" process especially where saving of the payment request takes place to identify the issue.\n\n"},{"type":"emoji","name":"bulb","unicode":"1f4a1"},{"type":"text","text":" You can ask follow-up questions about these logs by just typing your question in the channel."}]}]}],"channel":"C08RN80PTP1","event_ts":"1747129171.845509","channel_type":"channel"},"type":"event_callback","event_id":"Ev08S69Q9WF4","event_time":1747129171,"authorizations":[{"enterprise_id":null,"team_id":"T08RN80K1N3","user_id":"U08SQGNTJU8","is_bot":true,"is_enterprise_install":false}],"is_ext_shared_channel":false,"event_context":"4-eyJldCI6Im1lc3NhZ2UiLCJ0aWQiOiJUMDhSTjgwSzFOMyIsImFpZCI6IkEwOFNRR0VITVNMIiwiY2lkIjoiQzA4Uk44MFBUUDEifQ"},"type":"events_api","accepts_response_payload":false,"retry_attempt":0,"retry_reason":""})
2025-05-13 12:39:33,460 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 12:39:33,466 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 12:39:33,498 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: events_api, envelope_id: 05bb6878-702b-45f5-a406-34bdec073da5)
2025-05-13 12:39:33,505 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2025-05-13 12:39:33,505 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2025-05-13 12:39:33,512 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2025-05-13 12:39:33,518 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2025-05-13 12:39:33,518 - slack_bolt.IgnoringSelfEvents - DEBUG - [ignoring_self_events.py:71] - Skipped self event: {'user': 'U08SQGNTJU8', 'type': 'message', 'ts': '1747129171.845509', 'bot_id': 'B08SQGNSACQ', 'app_id': 'A08SQGEHMSL', 'text': '1. Summary: A transaction was proccessed with ID 672375962477797376. The "checkout-request-service" and "checkout-payment-service" had corresponded with this transaction. "checkout-request-service" was finding the transaction based on the given transaction id. The "checkout-payment-service" received the payload for the transaction, however it seems to have issues in saving the payment request.\n\n2. Issues: There is an issue in the "checkout-payment-service". The logs show a null error when the service tried to save the payment request.\n\n3. Suggested Actions: Due to the null error when saving the payment request, I would suggest to check the state of the payment request object before it was processed for saving. It can be possible that some required fields are missing or null which is resulting in the error. Debug the "checkout-payment-service" process especially where saving of the payment request takes place to identify the issue.\n\n:bulb: You can ask follow-up questions about these logs by just typing your question in the channel.', 'team': 'T08RN80K1N3', 'bot_profile': {'id': 'B08SQGNSACQ', 'deleted': False, 'name': 'Lokilens', 'updated': 1747104773, 'app_id': 'A08SQGEHMSL', 'user_id': 'U08SQGNTJU8', 'icons': {'image_36': 'https://a.slack-edge.com/80588/img/plugins/app/bot_36.png', 'image_48': 'https://a.slack-edge.com/80588/img/plugins/app/bot_48.png', 'image_72': 'https://a.slack-edge.com/80588/img/plugins/app/service_72.png'}, 'team_id': 'T08RN80K1N3'}, 'blocks': [{'type': 'rich_text', 'block_id': 'ZDO=c', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': '1. Summary: A transaction was proccessed with ID 672375962477797376. The "checkout-request-service" and "checkout-payment-service" had corresponded with this transaction. "checkout-request-service" was finding the transaction based on the given transaction id. The "checkout-payment-service" received the payload for the transaction, however it seems to have issues in saving the payment request.\n\n2. Issues: There is an issue in the "checkout-payment-service". The logs show a null error when the service tried to save the payment request.\n\n3. Suggested Actions: Due to the null error when saving the payment request, I would suggest to check the state of the payment request object before it was processed for saving. It can be possible that some required fields are missing or null which is resulting in the error. Debug the "checkout-payment-service" process especially where saving of the payment request takes place to identify the issue.\n\n'}, {'type': 'emoji', 'name': 'bulb', 'unicode': '1f4a1'}, {'type': 'text', 'text': ' You can ask follow-up questions about these logs by just typing your question in the channel.'}]}]}], 'channel': 'C08RN80PTP1', 'event_ts': '1747129171.845509', 'channel_type': 'channel'}
2025-05-13 12:39:33,523 - slack_bolt.App - DEBUG - [client.py:201] - Sending a message (session id: 63e2ef6a-2aec-446b-a5b9-2d913497943f, message: {"envelope_id": "05bb6878-702b-45f5-a406-34bdec073da5"})
2025-05-13 12:39:33,536 - slack_bolt.App - DEBUG - [internals.py:42] - Response time: 31 milliseconds
2025-05-13 12:39:33,536 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: events_api, envelope_id: 05bb6878-702b-45f5-a406-34bdec073da5)
2025-05-13 12:40:17,942 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"envelope_id":"3f9450a2-5f98-4d9f-a95a-609ac051b895","payload":{"token":"K4ZhpQOf4Bh1W7IgNZugkX3V","team_id":"T08RN80K1N3","context_team_id":"T08RN80K1N3","context_enterprise_id":null,"api_app_id":"A08SQGEHMSL","event":{"user":"U08RN80KECX","type":"message","ts":"1747129217.120899","client_msg_id":"685f4a93-3d23-4d9d-b822-9b9be531153a","text":"tell me more about the error","team":"T08RN80K1N3","blocks":[{"type":"rich_text","block_id":"3UJVv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"tell me more about the error"}]}]}],"channel":"C08RN80PTP1","event_ts":"1747129217.120899","channel_type":"channel"},"type":"event_callback","event_id":"Ev08S7M4HJKE","event_time":1747129217,"authorizations":[{"enterprise_id":null,"team_id":"T08RN80K1N3","user_id":"U08SQGNTJU8","is_bot":true,"is_enterprise_install":false}],"is_ext_shared_channel":false,"event_context":"4-eyJldCI6Im1lc3NhZ2UiLCJ0aWQiOiJUMDhSTjgwSzFOMyIsImFpZCI6IkEwOFNRR0VITVNMIiwiY2lkIjoiQzA4Uk44MFBUUDEifQ"},"type":"events_api","accepts_response_payload":false,"retry_attempt":0,"retry_reason":""})
2025-05-13 12:40:17,955 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 12:40:17,962 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 12:40:17,992 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: events_api, envelope_id: 3f9450a2-5f98-4d9f-a95a-609ac051b895)
2025-05-13 12:40:18,000 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2025-05-13 12:40:18,006 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2025-05-13 12:40:18,018 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2025-05-13 12:40:18,031 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2025-05-13 12:40:18,037 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2025-05-13 12:40:18,037 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.attaching_function_token.attaching_function_token.AttachingFunctionToken
2025-05-13 12:40:18,038 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_message_events ...
2025-05-13 12:40:18,038 - slack_bolt.App - DEBUG - [app.py:612] - Running listener: handle_message_events ...
2025-05-13 12:40:18,044 - slack_bolt.App - DEBUG - [thread_runner.py:202] - Responding with status: 200 body: "" (0 millis)
2025-05-13 12:40:18,051 - slack - INFO - [slack_app.py:81] - Received message event: {'token': 'K4ZhpQOf4Bh1W7IgNZugkX3V', 'team_id': 'T08RN80K1N3', 'context_team_id': 'T08RN80K1N3', 'context_enterprise_id': None, 'api_app_id': 'A08SQGEHMSL', 'event': {'user': 'U08RN80KECX', 'type': 'message', 'ts': '1747129217.120899', 'client_msg_id': '685f4a93-3d23-4d9d-b822-9b9be531153a', 'text': 'tell me more about the error', 'team': 'T08RN80K1N3', 'blocks': [{'type': 'rich_text', 'block_id': '3UJVv', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'tell me more about the error'}]}]}], 'channel': 'C08RN80PTP1', 'event_ts': '1747129217.120899', 'channel_type': 'channel'}, 'type': 'event_callback', 'event_id': 'Ev08S7M4HJKE', 'event_time': 1747129217, 'authorizations': [{'enterprise_id': None, 'team_id': 'T08RN80K1N3', 'user_id': 'U08SQGNTJU8', 'is_bot': True, 'is_enterprise_install': False}], 'is_ext_shared_channel': False, 'event_context': '4-eyJldCI6Im1lc3NhZ2UiLCJ0aWQiOiJUMDhSTjgwSzFOMyIsImFpZCI6IkEwOFNRR0VITVNMIiwiY2lkIjoiQzA4Uk44MFBUUDEifQ'}
2025-05-13 12:40:18,051 - slack_bolt.App - DEBUG - [client.py:201] - Sending a message (session id: 63e2ef6a-2aec-446b-a5b9-2d913497943f, message: {"envelope_id": "3f9450a2-5f98-4d9f-a95a-609ac051b895"})
2025-05-13 12:40:18,094 - slack_bolt.App - DEBUG - [internals.py:42] - Response time: 94 milliseconds
2025-05-13 12:40:18,100 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: events_api, envelope_id: 3f9450a2-5f98-4d9f-a95a-609ac051b895)
