2025-05-13 12:45:04,229 - slack - INFO - [slack_app.py:27] - Loading environment variables...
2025-05-13 12:45:04,230 - slack - INFO - [slack_app.py:29] - Environment variables loaded successfully
2025-05-13 12:45:04,230 - slack - INFO - [slack_app.py:32] - Initializing Slack app...
2025-05-13 12:45:04,269 - slack_bolt.App - DEBUG - [base_client.py:265] - Sending a request - url: https://slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.23.0 Python/3.13.3 slackclient/3.35.0 Darwin/24.4.0'}
2025-05-13 12:45:05,030 - slack_bolt.App - DEBUG - [base_client.py:556] - Received the following response - status: 200, headers: {'date': 'Tue, 13 May 2025 09:45:04 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'c62809949a42b73c8b83d6f73860445e', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'commands,chat:write,channels:history,groups:history,im:history', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'aCMUoNHXHElVT1vvJ2W0OAAAAD0', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '189', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-hejzwbgu,envoy-edge-bom-wsvfrvds', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '209', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-jdbb', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/cell-logs.slack.com\/","team":"Cell-logs","user":"lokilens","team_id":"T08RN80K1N3","user_id":"U08SQGNTJU8","bot_id":"B08SQGNSACQ","is_enterprise_install":false}
2025-05-13 12:45:05,030 - slack - INFO - [slack_app.py:34] - Slack app initialized successfully
2025-05-13 12:45:05,030 - slack - INFO - [slack_app.py:37] - Initializing S3 operations...
2025-05-13 12:45:05,030 - s3 - INFO - [s3_operations.py:14] - Initializing S3 operations
2025-05-13 12:45:05,031 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2025-05-13 12:45:05,032 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-call.apigateway to before-call.api-gateway
2025-05-13 12:45:05,032 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2025-05-13 12:45:05,032 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2025-05-13 12:45:05,032 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2025-05-13 12:45:05,033 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2025-05-13 12:45:05,033 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2025-05-13 12:45:05,034 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2025-05-13 12:45:05,034 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2025-05-13 12:45:05,034 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2025-05-13 12:45:05,034 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2025-05-13 12:45:05,036 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/endpoints.json
2025-05-13 12:45:05,046 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/sdk-default-configuration.json
2025-05-13 12:45:05,047 - botocore.hooks - DEBUG - [hooks.py:238] - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1056a1620>
2025-05-13 12:45:05,059 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/s3/2006-03-01/service-2.json.gz
2025-05-13 12:45:05,064 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/s3/2006-03-01/service-2.sdk-extras.json
2025-05-13 12:45:05,075 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2025-05-13 12:45:05,077 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/partitions.json
2025-05-13 12:45:05,078 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1055c76a0>
2025-05-13 12:45:05,078 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x107746480>
2025-05-13 12:45:05,096 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x1055c7420>
2025-05-13 12:45:05,096 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_service
2025-05-13 12:45:05,096 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_global
2025-05-13 12:45:05,096 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_service
2025-05-13 12:45:05,096 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_global
2025-05-13 12:45:05,096 - botocore.configprovider - DEBUG - [configprovider.py:1005] - No configured endpoint found.
2025-05-13 12:45:05,097 - botocore.endpoint - DEBUG - [endpoint.py:414] - Setting s3 timeout as (60, 60)
2025-05-13 12:45:05,099 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/_retry.json
2025-05-13 12:45:05,099 - botocore.client - DEBUG - [client.py:290] - Registering retry handlers for service: s3
2025-05-13 12:45:05,099 - botocore.utils - DEBUG - [utils.py:1718] - Registering S3 region redirector handler
2025-05-13 12:45:05,100 - botocore.utils - DEBUG - [utils.py:1666] - Registering S3Express Identity Resolver
2025-05-13 12:45:05,100 - s3 - INFO - [s3_operations.py:24] - S3 client initialized successfully
2025-05-13 12:45:05,100 - slack - INFO - [slack_app.py:42] - S3 operations initialized successfully
2025-05-13 12:45:05,100 - slack - INFO - [slack_app.py:45] - Initializing OpenAI client...
2025-05-13 12:45:05,121 - slack - INFO - [slack_app.py:47] - OpenAI client initialized successfully
2025-05-13 12:45:05,121 - slack - INFO - [slack_app.py:50] - Initializing MCP client...
2025-05-13 12:45:05,121 - mcp - INFO - [mcp_client.py:30] - Initializing LogSearchClient...
2025-05-13 12:45:05,121 - mcp - INFO - [mcp_client.py:45] - Initializing OpenAI client...
2025-05-13 12:45:05,127 - mcp - INFO - [mcp_client.py:48] - OpenAI client initialized successfully
2025-05-13 12:45:05,127 - mcp - INFO - [mcp_client.py:53] - Initializing MCP tools...
2025-05-13 12:45:05,127 - mcp - INFO - [mcp_client.py:165] - Connecting to MCP server at http://localhost:8000/mcp
2025-05-13 12:45:05,128 - urllib3.connectionpool - DEBUG - [connectionpool.py:241] - Starting new HTTP connection (1): localhost:8000
2025-05-13 12:45:05,164 - urllib3.connectionpool - DEBUG - [connectionpool.py:544] - http://localhost:8000 "GET /mcp HTTP/1.1" 200 None
2025-05-13 12:45:05,164 - mcp - INFO - [mcp_client.py:180] - Response status code: 200
2025-05-13 12:45:05,164 - mcp - INFO - [mcp_client.py:181] - Response headers: {'date': 'Tue, 13 May 2025 09:45:04 GMT', 'server': 'uvicorn', 'cache-control': 'no-store', 'connection': 'keep-alive', 'x-accel-buffering': 'no', 'content-type': 'text/event-stream; charset=utf-8', 'Transfer-Encoding': 'chunked'}
2025-05-13 12:45:05,164 - sseclient - DEBUG - [__init__.py:32] - Initialized SSE client from event source <Response [200]>
2025-05-13 12:45:05,165 - sseclient - DEBUG - [__init__.py:108] - Dispatching endpoint event, 58 bytes...
2025-05-13 12:45:05,165 - mcp - INFO - [mcp_client.py:190] - Received session ID: 746b22e492094371837826e5ae31d013
2025-05-13 12:45:05,165 - mcp - INFO - [mcp_client.py:56] - MCP tools initialized successfully
2025-05-13 12:45:05,165 - slack - INFO - [slack_app.py:52] - MCP client initialized successfully
2025-05-13 12:45:05,165 - __main__ - INFO - [main.py:34] - üöÄ Starting Loki Lens application...
2025-05-13 12:45:05,166 - s3 - INFO - [s3_operations.py:14] - Initializing S3 operations
2025-05-13 12:45:05,167 - botocore.hooks - DEBUG - [hooks.py:238] - Event choose-service-name: calling handler <function handle_service_name_alias at 0x1056a1620>
2025-05-13 12:45:05,167 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x1055c76a0>
2025-05-13 12:45:05,167 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x107746480>
2025-05-13 12:45:05,167 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x1055c7420>
2025-05-13 12:45:05,168 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_service
2025-05-13 12:45:05,168 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_global
2025-05-13 12:45:05,168 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_service
2025-05-13 12:45:05,168 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_global
2025-05-13 12:45:05,168 - botocore.configprovider - DEBUG - [configprovider.py:1005] - No configured endpoint found.
2025-05-13 12:45:05,169 - botocore.endpoint - DEBUG - [endpoint.py:414] - Setting s3 timeout as (60, 60)
2025-05-13 12:45:05,170 - botocore.client - DEBUG - [client.py:290] - Registering retry handlers for service: s3
2025-05-13 12:45:05,170 - botocore.utils - DEBUG - [utils.py:1718] - Registering S3 region redirector handler
2025-05-13 12:45:05,170 - botocore.utils - DEBUG - [utils.py:1666] - Registering S3Express Identity Resolver
2025-05-13 12:45:05,171 - s3 - INFO - [s3_operations.py:24] - S3 client initialized successfully
2025-05-13 12:45:05,171 - slack - INFO - [slack_app.py:446] - Starting Slack app in Socket Mode
2025-05-13 12:45:05,171 - __main__ - INFO - [main.py:53] - ‚úÖ Slack integration started
2025-05-13 12:45:05,172 - slack_bolt.App - DEBUG - [base_client.py:265] - Sending a request - url: https://slack.com/api/apps.connections.open, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.23.0 Python/3.13.3 slackclient/3.35.0 Darwin/24.4.0'}
2025-05-13 12:45:05,953 - slack_bolt.App - DEBUG - [base_client.py:556] - Received the following response - status: 200, headers: {'date': 'Tue, 13 May 2025 09:45:05 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'cbc1b9e1a2e438b9c63d957e19714c12', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'x-robots-tag': 'noindex,nofollow', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'connections:write', 'x-oauth-scopes': 'connections:write,authorizations:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'aCMUodkipI6A_Vv3wMPlpwAAEAU', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '173', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-dcqffxcb,envoy-edge-bom-uqejrabv', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '203', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-uojv', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"wss:\/\/wss-primary.slack.com\/link\/?ticket=cc164b45-d0e8-4b0f-ace0-5f98f735a49f&app_id=80ecbf266142da985b68b05f1ff313c100b9cdf30b305f7e8a16dce5f531ab94"}
2025-05-13 12:45:06,889 - slack_bolt.App - INFO - [client.py:193] - A new session has been established (session id: 5ed28dd7-f148-41fe-9e0f-78cec5dd9467)
2025-05-13 12:45:06,889 - slack_bolt.App - INFO - [base_handler.py:51] - ‚ö°Ô∏è Bolt app is running!
2025-05-13 12:45:06,941 - slack_bolt.App - INFO - [client.py:266] - Starting to receive messages from a new connection (session id: 5ed28dd7-f148-41fe-9e0f-78cec5dd9467)
2025-05-13 12:45:06,959 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"type":"hello","num_connections":1,"debug_info":{"host":"applink-2","build_number":117,"approximate_connection_time":18060},"connection_info":{"app_id":"A08SQGEHMSL"}})
2025-05-13 12:45:06,965 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 12:45:06,972 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 12:45:06,985 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: hello, envelope_id: None)
2025-05-13 12:45:06,991 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: hello, envelope_id: None)
2025-05-13 12:45:19,600 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"envelope_id":"fbd0c06c-fdad-47f0-aa76-92f34c76a44d","payload":{"token":"K4ZhpQOf4Bh1W7IgNZugkX3V","team_id":"T08RN80K1N3","team_domain":"cell-logs","channel_id":"C08RN80PTP1","channel_name":"all-cell-logs","user_id":"U08RN80KECX","user_name":"emmanuel.kipngetich","command":"\/lokilens","text":"what happened to this transaction 672375962477797376 on February 2, 2025 at 23:29","api_app_id":"A08SQGEHMSL","is_enterprise_install":"false","response_url":"https:\/\/hooks.slack.com\/commands\/T08RN80K1N3\/8910319792944\/YhREYnFAoLAfnEPdI6MS6SBO","trigger_id":"8910319819392.8872272647751.7701128095c27c0b07ccff66ecd1d66b"},"type":"slash_commands","accepts_response_payload":true})
2025-05-13 12:45:19,607 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 12:45:19,613 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 12:45:19,614 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: slash_commands, envelope_id: fbd0c06c-fdad-47f0-aa76-92f34c76a44d)
2025-05-13 12:45:19,625 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2025-05-13 12:45:19,625 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2025-05-13 12:45:19,631 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2025-05-13 12:45:19,631 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2025-05-13 12:45:19,632 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2025-05-13 12:45:19,632 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.attaching_function_token.attaching_function_token.AttachingFunctionToken
2025-05-13 12:45:19,632 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_message_events ...
2025-05-13 12:45:19,638 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_loki_command ...
2025-05-13 12:45:19,638 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_lokilens_command ...
2025-05-13 12:45:19,645 - slack_bolt.App - DEBUG - [app.py:612] - Running listener: handle_lokilens_command ...
2025-05-13 12:45:19,652 - slack - INFO - [slack_app.py:379] - Received /lokilens command: {'token': 'K4ZhpQOf4Bh1W7IgNZugkX3V', 'team_id': 'T08RN80K1N3', 'team_domain': 'cell-logs', 'channel_id': 'C08RN80PTP1', 'channel_name': 'all-cell-logs', 'user_id': 'U08RN80KECX', 'user_name': 'emmanuel.kipngetich', 'command': '/lokilens', 'text': 'what happened to this transaction 672375962477797376 on February 2, 2025 at 23:29', 'api_app_id': 'A08SQGEHMSL', 'is_enterprise_install': 'false', 'response_url': 'https://hooks.slack.com/commands/T08RN80K1N3/8910319792944/YhREYnFAoLAfnEPdI6MS6SBO', 'trigger_id': '8910319819392.8872272647751.7701128095c27c0b07ccff66ecd1d66b'}
2025-05-13 12:45:19,659 - slack - DEBUG - [slack_app.py:384] - Command text: what happened to this transaction 672375962477797376 on February 2, 2025 at 23:29
2025-05-13 12:45:19,670 - slack - INFO - [slack_app.py:396] - Starting natural language parsing
2025-05-13 12:45:19,683 - slack_bolt.App - DEBUG - [thread_runner.py:202] - Responding with status: 200 body: "Searching logs for: what happened to this transaction 672375962477797376 on February 2, 2025 at 23:29" (31 millis)
2025-05-13 12:45:19,683 - slack - INFO - [slack_app.py:231] - Parsing natural language input: what happened to this transaction 672375962477797376 on February 2, 2025 at 23:29
2025-05-13 12:45:19,701 - slack_bolt.App - DEBUG - [client.py:201] - Sending a message (session id: 5ed28dd7-f148-41fe-9e0f-78cec5dd9467, message: {"envelope_id": "fbd0c06c-fdad-47f0-aa76-92f34c76a44d", "payload": {"text": "Searching logs for: what happened to this transaction 672375962477797376 on February 2, 2025 at 23:29"}})
2025-05-13 12:45:19,718 - slack - DEBUG - [slack_app.py:257] - Sending request to OpenAI for parsing
2025-05-13 12:45:19,735 - slack_bolt.App - DEBUG - [internals.py:42] - Response time: 116 milliseconds
2025-05-13 12:45:19,748 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: slash_commands, envelope_id: fbd0c06c-fdad-47f0-aa76-92f34c76a44d)
2025-05-13 12:45:24,498 - openai._base_client - DEBUG - [_base_client.py:482] - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-a9971909-e431-4110-8223-1311ad9e4b7a', 'json_data': {'messages': [{'role': 'user', 'content': "\n    Parse the following text into a search ID and a time range.\n    The time range should be in the format YYYYMMDDHHMM (e.g., 202205130933 for May 13, 2022 at 09:33).\n    If the time is not specified, use the current time.\n    If the date is not specified, use today's date.\n    \n    Text: what happened to this transaction 672375962477797376 on February 2, 2025 at 23:29\n    \n    Return ONLY the search ID and time range in this exact format:\n    search_id: <id>\n    time_range: <YYYYMMDDHHMM>\n    \n    Do not include any other text or explanation.\n    "}], 'model': 'gpt-4', 'max_tokens': 100}}
2025-05-13 12:45:24,755 - openai._base_client - DEBUG - [_base_client.py:965] - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-05-13 12:45:24,762 - httpcore.connection - DEBUG - [_trace.py:47] - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-05-13 12:45:24,815 - httpcore.connection - DEBUG - [_trace.py:47] - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10dda34d0>
2025-05-13 12:45:24,815 - httpcore.connection - DEBUG - [_trace.py:47] - start_tls.started ssl_context=<ssl.SSLContext object at 0x10cef2de0> server_hostname='api.openai.com' timeout=5.0
2025-05-13 12:45:24,878 - httpcore.connection - DEBUG - [_trace.py:47] - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10f0c6850>
2025-05-13 12:45:24,884 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.started request=<Request [b'POST']>
2025-05-13 12:45:24,891 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.complete
2025-05-13 12:45:24,896 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.started request=<Request [b'POST']>
2025-05-13 12:45:24,914 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.complete
2025-05-13 12:45:24,921 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.started request=<Request [b'POST']>
2025-05-13 12:45:26,741 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 13 May 2025 09:45:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hhmri584teit9d0pqdaekcnd'), (b'openai-processing-ms', b'971'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'974'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9859'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'846ms'), (b'x-request-id', b'req_03a97bfff6eba201e494ac3bb976a783'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=Li23MztltL4mKSzs_aKcRxKZm9KDXb1sypz8czbbRq4-1747129526-1.0.1.1-lG3RHvKfACk2uAw5Zgv.cVl0EcfQh7OpIjaBSurxivjxqZbHtyDrlgshFSpCKOGEjK7vXk9yiNmOaCe2Jt3UT9cgGwe8Rc4C.eG1czLWBFc; path=/; expires=Tue, 13-May-25 10:15:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ZUmLc.9TsRoKKJRIhIXbCFepRDnjzTk0o3oRLyZKuHI-1747129526919-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'93f1390bce0c1b5a-NBO'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-13 12:45:26,755 - httpx - INFO - [_client.py:1025] - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 12:45:26,762 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.started request=<Request [b'POST']>
2025-05-13 12:45:26,781 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.complete
2025-05-13 12:45:26,794 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.started
2025-05-13 12:45:26,799 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.complete
2025-05-13 12:45:26,812 - openai._base_client - DEBUG - [_base_client.py:1003] - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 13 May 2025 09:45:26 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hhmri584teit9d0pqdaekcnd'), ('openai-processing-ms', '971'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '974'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9859'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '846ms'), ('x-request-id', 'req_03a97bfff6eba201e494ac3bb976a783'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=Li23MztltL4mKSzs_aKcRxKZm9KDXb1sypz8czbbRq4-1747129526-1.0.1.1-lG3RHvKfACk2uAw5Zgv.cVl0EcfQh7OpIjaBSurxivjxqZbHtyDrlgshFSpCKOGEjK7vXk9yiNmOaCe2Jt3UT9cgGwe8Rc4C.eG1czLWBFc; path=/; expires=Tue, 13-May-25 10:15:26 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=ZUmLc.9TsRoKKJRIhIXbCFepRDnjzTk0o3oRLyZKuHI-1747129526919-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '93f1390bce0c1b5a-NBO'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-05-13 12:45:26,818 - openai._base_client - DEBUG - [_base_client.py:1011] - request_id: req_03a97bfff6eba201e494ac3bb976a783
2025-05-13 12:45:26,822 - slack - DEBUG - [slack_app.py:266] - Received parsing response: search_id: 672375962477797376
time_range: 202502022329
2025-05-13 12:45:26,822 - slack - INFO - [slack_app.py:275] - Successfully parsed input - search_id: 672375962477797376, time_range: 202502022329
2025-05-13 12:45:26,828 - slack - INFO - [slack_app.py:398] - Parsed input - search_id: 672375962477797376, time_range: 202502022329, is_followup: True
2025-05-13 12:45:26,828 - slack - INFO - [slack_app.py:417] - Searching logs using MCP client
2025-05-13 12:45:26,828 - mcp - INFO - [mcp_client.py:239] - Searching logs for ID: 672375962477797376 with time ranges: ['202502022329']
2025-05-13 12:45:26,848 - urllib3.connectionpool - DEBUG - [connectionpool.py:241] - Starting new HTTP connection (1): localhost:8000
2025-05-13 12:45:29,633 - urllib3.connectionpool - DEBUG - [connectionpool.py:544] - http://localhost:8000 "POST /api/search HTTP/1.1" 200 20802
2025-05-13 12:45:29,641 - slack - DEBUG - [slack_app.py:419] - MCP client response: {'search_id': '672375962477797376', 'time_ranges': ['202502022329'], 'results': {'checkout-request-service': [{'container_name': 'checkout-request-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-request-service-778b5dbb86-m9b8x_approval_checkout-request-service-e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0.log\t{"time":"2025-02-02T23:29:00.202066773Z","stream":"stdout","logtag":"F","message":"2025-02-02T23:29:00.201Z  INFO [checkout-request-service,679fffbc000000000a0679f695451425,7d144dc0fdcb2009] 1 --- [checkout-request-service] [nio-8080-exec-3] [679fffbc000000000a0679f695451425-7d144dc0fdcb2009] com.cellulant.configuration.Logger       : TRACE-ID : 679fffbc000000000a0679f695451425 | SPAN-ID : 7d144dc0fdcb2009 | com.cellulant.services.CheckoutRequestService | Checkout-request-service:Finding transaction based on gatewayTransactionId=672375962477797376","kubernetes":{"pod_name":"checkout-request-service-778b5dbb86-m9b8x","namespace_name":"approval","pod_id":"101d3d24-2784-46e4-9cf5-2ab4567d4764","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-request-service","app.kubernetes.io/name":"checkout-request-service","pod-template-hash":"778b5dbb86","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-request-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1","prometheus.io/path":"/actuator/prometheus","prometheus.io/port":"8080","prometheus.io/scrape":"true"},"host":"ip-10-107-118-6.eu-west-1.compute.internal","container_name":"checkout-request-service","docker_id":"e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app@sha256:c03cf238e9f754ea116b379bc13f21eadb868b44a4e5bf1eb6743c0806f5bf27","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app:approval-82285df3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-request-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-request-service-778b5dbb86-m9b8x_approval_checkout-request-service-e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0.log\t{"time":"2025-02-02T23:29:00.202066773Z","stream":"stdout","logtag":"F","message":"2025-02-02T23:29:00.201Z  INFO [checkout-request-service,679fffbc000000000a0679f695451425,7d144dc0fdcb2009] 1 --- [checkout-request-service] [nio-8080-exec-3] [679fffbc000000000a0679f695451425-7d144dc0fdcb2009] com.cellulant.configuration.Logger       : TRACE-ID : 679fffbc000000000a0679f695451425 | SPAN-ID : 7d144dc0fdcb2009 | com.cellulant.services.CheckoutRequestService | Checkout-request-service:Finding transaction based on gatewayTransactionId=672375962477797376","kubernetes":{"pod_name":"checkout-request-service-778b5dbb86-m9b8x","namespace_name":"approval","pod_id":"101d3d24-2784-46e4-9cf5-2ab4567d4764","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-request-service","app.kubernetes.io/name":"checkout-request-service","pod-template-hash":"778b5dbb86","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-request-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1","prometheus.io/path":"/actuator/prometheus","prometheus.io/port":"8080","prometheus.io/scrape":"true"},"host":"ip-10-107-118-6.eu-west-1.compute.internal","container_name":"checkout-request-service","docker_id":"e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app@sha256:c03cf238e9f754ea116b379bc13f21eadb868b44a4e5bf1eb6743c0806f5bf27","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app:approval-82285df3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}], 'checkout-payment-service': [{'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.18618989Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.186  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.controllers.PaymentController | Request payload: {\\"extraData\\":{\\"115651388\\":{\\"hubID\\":0,\\"callbackUrl\\":\\"https://webhook.site/56247f6d-83eb-4c89-8363-ef77d1fcd123\\"}},\\"amount_paid\\":1591.0,\\"payment_option_transaction_id\\":\\"9d72720e-3682-428e-9dbd-b474683a9d76\\",\\"gateway_transaction_id\\":\\"672375962477797376\\",\\"currency_code\\":\\"KES\\",\\"country_code\\":\\"KEN\\",\\"account_number\\":\\"acc_3209028\\",\\"customer_name\\":\\"Customer\\",\\"payment_msisdn\\":254700000000,\\"payment_option_narration\\":\\"INV_6799f155a66887.86544965\\",\\"date_payment_received\\":\\"2025-01-29 12:42:06\\",\\"service_charge_amount\\":0.0,\\"service_code\\":\\"KQSBOX\\",\\"gateway_overall_status\\":139,\\"payment_option_code\\":\\"DTBKE-MB\\",\\"psedo_service_code\\":null}","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.187788894Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.187  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | Received the payment payload: PaymentInputDto(amountPaid=1591.0, paymentOptionTransactionId=9d72720e-3682-428e-9dbd-b474683a9d76, gatewayTransactionId=672375962477797376, currencyCode=KES, countryCode=KEN, accountNumber=acc_3209028, customerName=Customer, paymentMsisdn=254700000000, paymentOptionNarration=INV_6799f155a66887.86544965, datePaymentReceived=Wed Jan 29 12:42:06 UTC 2025, serviceChargeAmount=0.0, serviceCode=KQSBOX, gatewayOverallStatus=139, paymentOptionCode=DTBKE-MB, psedoServiceCode=null, extraData={\\"115651388\\":{\\"hubID\\":0,\\"callbackUrl\\":\\"https://webhook.site/56247f6d-83eb-4c89-8363-ef77d1fcd123\\"}})","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.205908023Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.205  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.212786936Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.212  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.220445314Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.220  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.228701396Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.228  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.228790144Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.228  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | 672375962477797376 ServiceCode : KQSBOX - Creating Service For Static Account... ","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}, {'container_name': 'checkout-payment-service', 'message': '2025-02-02T23:29:00+00:00\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\t{"time":"2025-02-02T23:29:00.231421227Z","stream":"stdout","logtag":"F","message":"2025 Feb 02 23:29:00.231 ERROR [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | 672375962477797376 ServiceCode : KQSBOX - Error while saving the payment request: null","kubernetes":{"pod_name":"checkout-payment-service-7d998df944-hmk6j","namespace_name":"approval","pod_id":"8346f6de-d3b5-4601-9633-a2cb6cf84814","labels":{"admission.datadoghq.com/enabled":"true","app.kubernetes.io/instance":"checkout-payment-service","app.kubernetes.io/name":"checkout-payment-service","pod-template-hash":"7d998df944","tags.datadoghq.com/env":"approval","tags.datadoghq.com/service":"checkout-payment-service-approval"},"annotations":{"admission.datadoghq.com/java-lib.version":"v1.41.1"},"host":"ip-10-107-152-189.eu-west-1.compute.internal","container_name":"checkout-payment-service","docker_id":"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66","container_hash":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416","container_image":"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3"},"kubernetes_namespace":{"name":"approval","labels":{"field.cattle.io/projectId":"p-vnx8p","kubernetes.io/metadata.name":"approval"}}}', 'timestamp': '202502022329'}]}, 'total_results': 10}
2025-05-13 12:45:29,648 - slack - INFO - [slack_app.py:429] - Found 2 containers with logs
2025-05-13 12:45:29,655 - slack - INFO - [slack_app.py:155] - Cached search results for 672375962477797376_202502022329
2025-05-13 12:45:29,661 - slack - INFO - [slack_app.py:435] - Generating response
2025-05-13 12:45:29,673 - slack - INFO - [slack_app.py:176] - Generating response for search_id: 672375962477797376 (followup: False)
2025-05-13 12:45:29,679 - slack - DEBUG - [slack_app.py:183] - Formatting results for OpenAI prompt
2025-05-13 12:45:29,679 - slack - DEBUG - [slack_app.py:208] - Sending request to OpenAI
2025-05-13 12:45:29,681 - openai._base_client - DEBUG - [_base_client.py:482] - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-04df8f37-dff0-4a0f-9c88-a8618ebafaa5', 'json_data': {'messages': [{'role': 'user', 'content': '\n    I searched for logs with ID: 672375962477797376. Here are the results:\n    Container: checkout-request-service (2 matches)\n{\n  "container_name": "checkout-request-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-request-service-778b5dbb86-m9b8x_approval_checkout-request-service-e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0.log\\t{\\"time\\":\\"2025-02-02T23:29:00.202066773Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025-02-02T23:29:00.201Z  INFO [checkout-request-service,679fffbc000000000a0679f695451425,7d144dc0fdcb2009] 1 --- [checkout-request-service] [nio-8080-exec-3] [679fffbc000000000a0679f695451425-7d144dc0fdcb2009] com.cellulant.configuration.Logger       : TRACE-ID : 679fffbc000000000a0679f695451425 | SPAN-ID : 7d144dc0fdcb2009 | com.cellulant.services.CheckoutRequestService | Checkout-request-service:Finding transaction based on gatewayTransactionId=672375962477797376\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-request-service-778b5dbb86-m9b8x\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"101d3d24-2784-46e4-9cf5-2ab4567d4764\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-request-service\\",\\"app.kubernetes.io/name\\":\\"checkout-request-service\\",\\"pod-template-hash\\":\\"778b5dbb86\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-request-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\",\\"prometheus.io/path\\":\\"/actuator/prometheus\\",\\"prometheus.io/port\\":\\"8080\\",\\"prometheus.io/scrape\\":\\"true\\"},\\"host\\":\\"ip-10-107-118-6.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-request-service\\",\\"docker_id\\":\\"e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app@sha256:c03cf238e9f754ea116b379bc13f21eadb868b44a4e5bf1eb6743c0806f5bf27\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app:approval-82285df3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-request-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-request-service-778b5dbb86-m9b8x_approval_checkout-request-service-e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0.log\\t{\\"time\\":\\"2025-02-02T23:29:00.202066773Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025-02-02T23:29:00.201Z  INFO [checkout-request-service,679fffbc000000000a0679f695451425,7d144dc0fdcb2009] 1 --- [checkout-request-service] [nio-8080-exec-3] [679fffbc000000000a0679f695451425-7d144dc0fdcb2009] com.cellulant.configuration.Logger       : TRACE-ID : 679fffbc000000000a0679f695451425 | SPAN-ID : 7d144dc0fdcb2009 | com.cellulant.services.CheckoutRequestService | Checkout-request-service:Finding transaction based on gatewayTransactionId=672375962477797376\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-request-service-778b5dbb86-m9b8x\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"101d3d24-2784-46e4-9cf5-2ab4567d4764\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-request-service\\",\\"app.kubernetes.io/name\\":\\"checkout-request-service\\",\\"pod-template-hash\\":\\"778b5dbb86\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-request-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\",\\"prometheus.io/path\\":\\"/actuator/prometheus\\",\\"prometheus.io/port\\":\\"8080\\",\\"prometheus.io/scrape\\":\\"true\\"},\\"host\\":\\"ip-10-107-118-6.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-request-service\\",\\"docker_id\\":\\"e982c3072b460f6a7930514fe96781f85d4c6f2df40e3581cc72e9a33f9d84f0\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app@sha256:c03cf238e9f754ea116b379bc13f21eadb868b44a4e5bf1eb6743c0806f5bf27\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-request-service/app:approval-82285df3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\nContainer: checkout-payment-service (8 matches)\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.18618989Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.186  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.controllers.PaymentController | Request payload: {\\\\\\"extraData\\\\\\":{\\\\\\"115651388\\\\\\":{\\\\\\"hubID\\\\\\":0,\\\\\\"callbackUrl\\\\\\":\\\\\\"https://webhook.site/56247f6d-83eb-4c89-8363-ef77d1fcd123\\\\\\"}},\\\\\\"amount_paid\\\\\\":1591.0,\\\\\\"payment_option_transaction_id\\\\\\":\\\\\\"9d72720e-3682-428e-9dbd-b474683a9d76\\\\\\",\\\\\\"gateway_transaction_id\\\\\\":\\\\\\"672375962477797376\\\\\\",\\\\\\"currency_code\\\\\\":\\\\\\"KES\\\\\\",\\\\\\"country_code\\\\\\":\\\\\\"KEN\\\\\\",\\\\\\"account_number\\\\\\":\\\\\\"acc_3209028\\\\\\",\\\\\\"customer_name\\\\\\":\\\\\\"Customer\\\\\\",\\\\\\"payment_msisdn\\\\\\":254700000000,\\\\\\"payment_option_narration\\\\\\":\\\\\\"INV_6799f155a66887.86544965\\\\\\",\\\\\\"date_payment_received\\\\\\":\\\\\\"2025-01-29 12:42:06\\\\\\",\\\\\\"service_charge_amount\\\\\\":0.0,\\\\\\"service_code\\\\\\":\\\\\\"KQSBOX\\\\\\",\\\\\\"gateway_overall_status\\\\\\":139,\\\\\\"payment_option_code\\\\\\":\\\\\\"DTBKE-MB\\\\\\",\\\\\\"psedo_service_code\\\\\\":null}\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.187788894Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.187  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | Received the payment payload: PaymentInputDto(amountPaid=1591.0, paymentOptionTransactionId=9d72720e-3682-428e-9dbd-b474683a9d76, gatewayTransactionId=672375962477797376, currencyCode=KES, countryCode=KEN, accountNumber=acc_3209028, customerName=Customer, paymentMsisdn=254700000000, paymentOptionNarration=INV_6799f155a66887.86544965, datePaymentReceived=Wed Jan 29 12:42:06 UTC 2025, serviceChargeAmount=0.0, serviceCode=KQSBOX, gatewayOverallStatus=139, paymentOptionCode=DTBKE-MB, psedoServiceCode=null, extraData={\\\\\\"115651388\\\\\\":{\\\\\\"hubID\\\\\\":0,\\\\\\"callbackUrl\\\\\\":\\\\\\"https://webhook.site/56247f6d-83eb-4c89-8363-ef77d1fcd123\\\\\\"}})\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.205908023Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.205  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.212786936Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.212  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.220445314Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.220  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.228701396Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.228  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.utils.CheckoutFunctionsUtility | 672375962477797376 ServiceCode : KQSBOX - Request Successful.\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.228790144Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.228  INFO [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | 672375962477797376 ServiceCode : KQSBOX - Creating Service For Static Account... \\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n{\n  "container_name": "checkout-payment-service",\n  "message": "2025-02-02T23:29:00+00:00\\tkubernetes.var.log.containers.checkout-payment-service-7d998df944-hmk6j_approval_checkout-payment-service-daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66.log\\t{\\"time\\":\\"2025-02-02T23:29:00.231421227Z\\",\\"stream\\":\\"stdout\\",\\"logtag\\":\\"F\\",\\"message\\":\\"2025 Feb 02 23:29:00.231 ERROR [Checkout Payment Service,,,] 1 --- [nio-8080-exec-1] com.cellulant.configuration.Logger : TRACE-ID : 679fffbc360f5c257f24f104ef1a7ee8 | SPAN-ID : 0b8dc0597a29fb8b | com.cellulant.services.PaymentService | 672375962477797376 ServiceCode : KQSBOX - Error while saving the payment request: null\\",\\"kubernetes\\":{\\"pod_name\\":\\"checkout-payment-service-7d998df944-hmk6j\\",\\"namespace_name\\":\\"approval\\",\\"pod_id\\":\\"8346f6de-d3b5-4601-9633-a2cb6cf84814\\",\\"labels\\":{\\"admission.datadoghq.com/enabled\\":\\"true\\",\\"app.kubernetes.io/instance\\":\\"checkout-payment-service\\",\\"app.kubernetes.io/name\\":\\"checkout-payment-service\\",\\"pod-template-hash\\":\\"7d998df944\\",\\"tags.datadoghq.com/env\\":\\"approval\\",\\"tags.datadoghq.com/service\\":\\"checkout-payment-service-approval\\"},\\"annotations\\":{\\"admission.datadoghq.com/java-lib.version\\":\\"v1.41.1\\"},\\"host\\":\\"ip-10-107-152-189.eu-west-1.compute.internal\\",\\"container_name\\":\\"checkout-payment-service\\",\\"docker_id\\":\\"daa91e5812a4d54f72bb9209db6ed98702d95a69f1336c973e4e271f772cad66\\",\\"container_hash\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app@sha256:4230a44a0a4ec57cf66dda68e47a0a6d6ad7dd282a20545e7a749fe722f31416\\",\\"container_image\\":\\"102430194655.dkr.ecr.us-east-2.amazonaws.com/checkout-payment-service/app:approval-f90710b3\\"},\\"kubernetes_namespace\\":{\\"name\\":\\"approval\\",\\"labels\\":{\\"field.cattle.io/projectId\\":\\"p-vnx8p\\",\\"kubernetes.io/metadata.name\\":\\"approval\\"}}}",\n  "timestamp": "202502022329"\n}\n\n    \n    Please provide:\n    1. A concise summary of what happened\n    2. Any errors or issues found\n    3. Suggested follow-up actions or questions\n    \n    If this is a follow-up question, focus on providing additional insights or analysis based on the existing logs.\n    '}], 'model': 'gpt-4', 'max_tokens': 500}}
2025-05-13 12:45:29,695 - openai._base_client - DEBUG - [_base_client.py:965] - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-05-13 12:45:29,702 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.started request=<Request [b'POST']>
2025-05-13 12:45:29,709 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.complete
2025-05-13 12:45:29,709 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.started request=<Request [b'POST']>
2025-05-13 12:45:29,734 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.complete
2025-05-13 12:45:29,747 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.started request=<Request [b'POST']>
2025-05-13 12:45:46,952 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 13 May 2025 09:45:47 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hhmri584teit9d0pqdaekcnd'), (b'openai-processing-ms', b'16806'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'16808'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9998'), (b'x-ratelimit-remaining-tokens', b'4690'), (b'x-ratelimit-reset-requests', b'12.909s'), (b'x-ratelimit-reset-tokens', b'31.86s'), (b'x-request-id', b'req_07392782f59cb7858bf4df3c95b0d04d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'93f13929ee2d1b5a-NBO'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-13 12:45:46,968 - httpx - INFO - [_client.py:1025] - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 12:45:46,974 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.started request=<Request [b'POST']>
2025-05-13 12:45:47,000 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.complete
2025-05-13 12:45:47,006 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.started
2025-05-13 12:45:47,013 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.complete
2025-05-13 12:45:47,025 - openai._base_client - DEBUG - [_base_client.py:1003] - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Tue, 13 May 2025 09:45:47 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hhmri584teit9d0pqdaekcnd', 'openai-processing-ms': '16806', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '16808', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9998', 'x-ratelimit-remaining-tokens': '4690', 'x-ratelimit-reset-requests': '12.909s', 'x-ratelimit-reset-tokens': '31.86s', 'x-request-id': 'req_07392782f59cb7858bf4df3c95b0d04d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '93f13929ee2d1b5a-NBO', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-05-13 12:45:47,039 - openai._base_client - DEBUG - [_base_client.py:1011] - request_id: req_07392782f59cb7858bf4df3c95b0d04d
2025-05-13 12:45:47,057 - slack - INFO - [slack_app.py:437] - Sending response to Slack
2025-05-13 12:45:47,063 - slack_bolt.App - DEBUG - [base_client.py:265] - Sending a request - url: https://slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C08RN80PTP1', 'text': '1. Summary: \nIn the log entries pertaining to both the \'checkout-request-service\' and \'checkout-payment-service\', we can observe that they refer to a transaction with the gatewayTransactionId "672375962477797376". The logs for the \'checkout-request-service\' do not indicate any issues, however, the \'checkout-payment-service\' logs show that initially, the transaction seems to have been processed successfully. However, there was an error while saving the payment request, which the application tried to handle gracefully.\n\n2. Errors Found: \nThe major error found in the logs is in the \'checkout-payment-service\', showing "Error while saving the payment request: null". This indicates that the application tried to handle an exception that it wasn\'t prepared for and threw a null exception error. \n\n3. Suggested Follow-Up Actions: \nThe development team needs to inspect why the error occured while saving the payment request in the \'checkout-payment-service\'. The exception handling in the \'checkout-payment-service\' should be reviewed to ensure it can properly handle different types of exceptions, including this one, and provide more detailed error messages. Additionally, the data for transaction ID "672375962477797376" should be reviewed to rule out issues with the specific data associated with this transaction.\n\nIf this is a follow-up question, I would suggest looking into:\n- The system that\'s responsible for saving payment requests and ensuring it is working as expected.\n- The specific data involved in transaction "672375962477797376" to identify any anomalies that may have triggered the error.\n\nüí° You can ask follow-up questions about these logs by just typing your question in the channel.', 'team_id': 'T08RN80K1N3'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.13.3 slackclient/3.35.0 Darwin/24.4.0'}
2025-05-13 12:45:47,959 - slack_bolt.App - DEBUG - [base_client.py:556] - Received the following response - status: 200, headers: {'date': 'Tue, 13 May 2025 09:45:47 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '0721e8bed1986a4cafac8f6414ce1a83', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'commands,chat:write,channels:history,groups:history,im:history', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'aCMUyx1Z6aFiwFGU0MVF7AAAABM', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '4284', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-hunsyrvd,envoy-edge-bom-djrbusln', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '280', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-sfao', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C08RN80PTP1","ts":"1747129547.862009","message":{"user":"U08SQGNTJU8","type":"message","ts":"1747129547.862009","bot_id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","text":"1. Summary: \nIn the log entries pertaining to both the 'checkout-request-service' and 'checkout-payment-service', we can observe that they refer to a transaction with the gatewayTransactionId \"672375962477797376\". The logs for the 'checkout-request-service' do not indicate any issues, however, the 'checkout-payment-service' logs show that initially, the transaction seems to have been processed successfully. However, there was an error while saving the payment request, which the application tried to handle gracefully.\n\n2. Errors Found: \nThe major error found in the logs is in the 'checkout-payment-service', showing \"Error while saving the payment request: null\". This indicates that the application tried to handle an exception that it wasn't prepared for and threw a null exception error. \n\n3. Suggested Follow-Up Actions: \nThe development team needs to inspect why the error occured while saving the payment request in the 'checkout-payment-service'. The exception handling in the 'checkout-payment-service' should be reviewed to ensure it can properly handle different types of exceptions, including this one, and provide more detailed error messages. Additionally, the data for transaction ID \"672375962477797376\" should be reviewed to rule out issues with the specific data associated with this transaction.\n\nIf this is a follow-up question, I would suggest looking into:\n- The system that's responsible for saving payment requests and ensuring it is working as expected.\n- The specific data involved in transaction \"672375962477797376\" to identify any anomalies that may have triggered the error.\n\n:bulb: You can ask follow-up questions about these logs by just typing your question in the channel.","team":"T08RN80K1N3","bot_profile":{"id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","user_id":"U08SQGNTJU8","name":"Lokilens","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1747104773,"team_id":"T08RN80K1N3"},"blocks":[{"type":"rich_text","block_id":"SMs","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"1. Summary: \nIn the log entries pertaining to both the 'checkout-request-service' and 'checkout-payment-service', we can observe that they refer to a transaction with the gatewayTransactionId \"672375962477797376\". The logs for the 'checkout-request-service' do not indicate any issues, however, the 'checkout-payment-service' logs show that initially, the transaction seems to have been processed successfully. However, there was an error while saving the payment request, which the application tried to handle gracefully.\n\n2. Errors Found: \nThe major error found in the logs is in the 'checkout-payment-service', showing \"Error while saving the payment request: null\". This indicates that the application tried to handle an exception that it wasn't prepared for and threw a null exception error. \n\n3. Suggested Follow-Up Actions: \nThe development team needs to inspect why the error occured while saving the payment request in the 'checkout-payment-service'. The exception handling in the 'checkout-payment-service' should be reviewed to ensure it can properly handle different types of exceptions, including this one, and provide more detailed error messages. Additionally, the data for transaction ID \"672375962477797376\" should be reviewed to rule out issues with the specific data associated with this transaction.\n\nIf this is a follow-up question, I would suggest looking into:\n- The system that's responsible for saving payment requests and ensuring it is working as expected.\n- The specific data involved in transaction \"672375962477797376\" to identify any anomalies that may have triggered the error.\n\n"},{"type":"emoji","name":"bulb","unicode":"1f4a1"},{"type":"text","text":" You can ask follow-up questions about these logs by just typing your question in the channel."}]}]}]}}
2025-05-13 12:45:49,660 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"envelope_id":"ba76391b-1b88-4f7e-a11a-e3449160a8e3","payload":{"token":"K4ZhpQOf4Bh1W7IgNZugkX3V","team_id":"T08RN80K1N3","context_team_id":"T08RN80K1N3","context_enterprise_id":null,"api_app_id":"A08SQGEHMSL","event":{"user":"U08SQGNTJU8","type":"message","ts":"1747129547.862009","bot_id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","text":"1. Summary: \nIn the log entries pertaining to both the 'checkout-request-service' and 'checkout-payment-service', we can observe that they refer to a transaction with the gatewayTransactionId \"672375962477797376\". The logs for the 'checkout-request-service' do not indicate any issues, however, the 'checkout-payment-service' logs show that initially, the transaction seems to have been processed successfully. However, there was an error while saving the payment request, which the application tried to handle gracefully.\n\n2. Errors Found: \nThe major error found in the logs is in the 'checkout-payment-service', showing \"Error while saving the payment request: null\". This indicates that the application tried to handle an exception that it wasn't prepared for and threw a null exception error. \n\n3. Suggested Follow-Up Actions: \nThe development team needs to inspect why the error occured while saving the payment request in the 'checkout-payment-service'. The exception handling in the 'checkout-payment-service' should be reviewed to ensure it can properly handle different types of exceptions, including this one, and provide more detailed error messages. Additionally, the data for transaction ID \"672375962477797376\" should be reviewed to rule out issues with the specific data associated with this transaction.\n\nIf this is a follow-up question, I would suggest looking into:\n- The system that's responsible for saving payment requests and ensuring it is working as expected.\n- The specific data involved in transaction \"672375962477797376\" to identify any anomalies that may have triggered the error.\n\n:bulb: You can ask follow-up questions about these logs by just typing your question in the channel.","team":"T08RN80K1N3","bot_profile":{"id":"B08SQGNSACQ","deleted":false,"name":"Lokilens","updated":1747104773,"app_id":"A08SQGEHMSL","user_id":"U08SQGNTJU8","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"team_id":"T08RN80K1N3"},"blocks":[{"type":"rich_text","block_id":"=fwi","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"1. Summary: \nIn the log entries pertaining to both the 'checkout-request-service' and 'checkout-payment-service', we can observe that they refer to a transaction with the gatewayTransactionId \"672375962477797376\". The logs for the 'checkout-request-service' do not indicate any issues, however, the 'checkout-payment-service' logs show that initially, the transaction seems to have been processed successfully. However, there was an error while saving the payment request, which the application tried to handle gracefully.\n\n2. Errors Found: \nThe major error found in the logs is in the 'checkout-payment-service', showing \"Error while saving the payment request: null\". This indicates that the application tried to handle an exception that it wasn't prepared for and threw a null exception error. \n\n3. Suggested Follow-Up Actions: \nThe development team needs to inspect why the error occured while saving the payment request in the 'checkout-payment-service'. The exception handling in the 'checkout-payment-service' should be reviewed to ensure it can properly handle different types of exceptions, including this one, and provide more detailed error messages. Additionally, the data for transaction ID \"672375962477797376\" should be reviewed to rule out issues with the specific data associated with this transaction.\n\nIf this is a follow-up question, I would suggest looking into:\n- The system that's responsible for saving payment requests and ensuring it is working as expected.\n- The specific data involved in transaction \"672375962477797376\" to identify any anomalies that may have triggered the error.\n\n"},{"type":"emoji","name":"bulb","unicode":"1f4a1"},{"type":"text","text":" You can ask follow-up questions about these logs by just typing your question in the channel."}]}]}],"channel":"C08RN80PTP1","event_ts":"1747129547.862009","channel_type":"channel"},"type":"event_callback","event_id":"Ev08S7MZ4DRS","event_time":1747129547,"authorizations":[{"enterprise_id":null,"team_id":"T08RN80K1N3","user_id":"U08SQGNTJU8","is_bot":true,"is_enterprise_install":false}],"is_ext_shared_channel":false,"event_context":"4-eyJldCI6Im1lc3NhZ2UiLCJ0aWQiOiJUMDhSTjgwSzFOMyIsImFpZCI6IkEwOFNRR0VITVNMIiwiY2lkIjoiQzA4Uk44MFBUUDEifQ"},"type":"events_api","accepts_response_payload":false,"retry_attempt":0,"retry_reason":""})
2025-05-13 12:45:49,708 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 12:45:49,716 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 12:45:49,757 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: events_api, envelope_id: ba76391b-1b88-4f7e-a11a-e3449160a8e3)
2025-05-13 12:45:49,792 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2025-05-13 12:45:49,805 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2025-05-13 12:45:49,806 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2025-05-13 12:45:49,818 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2025-05-13 12:45:49,827 - slack_bolt.IgnoringSelfEvents - DEBUG - [ignoring_self_events.py:71] - Skipped self event: {'user': 'U08SQGNTJU8', 'type': 'message', 'ts': '1747129547.862009', 'bot_id': 'B08SQGNSACQ', 'app_id': 'A08SQGEHMSL', 'text': '1. Summary: \nIn the log entries pertaining to both the \'checkout-request-service\' and \'checkout-payment-service\', we can observe that they refer to a transaction with the gatewayTransactionId "672375962477797376". The logs for the \'checkout-request-service\' do not indicate any issues, however, the \'checkout-payment-service\' logs show that initially, the transaction seems to have been processed successfully. However, there was an error while saving the payment request, which the application tried to handle gracefully.\n\n2. Errors Found: \nThe major error found in the logs is in the \'checkout-payment-service\', showing "Error while saving the payment request: null". This indicates that the application tried to handle an exception that it wasn\'t prepared for and threw a null exception error. \n\n3. Suggested Follow-Up Actions: \nThe development team needs to inspect why the error occured while saving the payment request in the \'checkout-payment-service\'. The exception handling in the \'checkout-payment-service\' should be reviewed to ensure it can properly handle different types of exceptions, including this one, and provide more detailed error messages. Additionally, the data for transaction ID "672375962477797376" should be reviewed to rule out issues with the specific data associated with this transaction.\n\nIf this is a follow-up question, I would suggest looking into:\n- The system that\'s responsible for saving payment requests and ensuring it is working as expected.\n- The specific data involved in transaction "672375962477797376" to identify any anomalies that may have triggered the error.\n\n:bulb: You can ask follow-up questions about these logs by just typing your question in the channel.', 'team': 'T08RN80K1N3', 'bot_profile': {'id': 'B08SQGNSACQ', 'deleted': False, 'name': 'Lokilens', 'updated': 1747104773, 'app_id': 'A08SQGEHMSL', 'user_id': 'U08SQGNTJU8', 'icons': {'image_36': 'https://a.slack-edge.com/80588/img/plugins/app/bot_36.png', 'image_48': 'https://a.slack-edge.com/80588/img/plugins/app/bot_48.png', 'image_72': 'https://a.slack-edge.com/80588/img/plugins/app/service_72.png'}, 'team_id': 'T08RN80K1N3'}, 'blocks': [{'type': 'rich_text', 'block_id': '=fwi', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': '1. Summary: \nIn the log entries pertaining to both the \'checkout-request-service\' and \'checkout-payment-service\', we can observe that they refer to a transaction with the gatewayTransactionId "672375962477797376". The logs for the \'checkout-request-service\' do not indicate any issues, however, the \'checkout-payment-service\' logs show that initially, the transaction seems to have been processed successfully. However, there was an error while saving the payment request, which the application tried to handle gracefully.\n\n2. Errors Found: \nThe major error found in the logs is in the \'checkout-payment-service\', showing "Error while saving the payment request: null". This indicates that the application tried to handle an exception that it wasn\'t prepared for and threw a null exception error. \n\n3. Suggested Follow-Up Actions: \nThe development team needs to inspect why the error occured while saving the payment request in the \'checkout-payment-service\'. The exception handling in the \'checkout-payment-service\' should be reviewed to ensure it can properly handle different types of exceptions, including this one, and provide more detailed error messages. Additionally, the data for transaction ID "672375962477797376" should be reviewed to rule out issues with the specific data associated with this transaction.\n\nIf this is a follow-up question, I would suggest looking into:\n- The system that\'s responsible for saving payment requests and ensuring it is working as expected.\n- The specific data involved in transaction "672375962477797376" to identify any anomalies that may have triggered the error.\n\n'}, {'type': 'emoji', 'name': 'bulb', 'unicode': '1f4a1'}, {'type': 'text', 'text': ' You can ask follow-up questions about these logs by just typing your question in the channel.'}]}]}], 'channel': 'C08RN80PTP1', 'event_ts': '1747129547.862009', 'channel_type': 'channel'}
2025-05-13 12:45:49,882 - slack_bolt.App - DEBUG - [client.py:201] - Sending a message (session id: 5ed28dd7-f148-41fe-9e0f-78cec5dd9467, message: {"envelope_id": "ba76391b-1b88-4f7e-a11a-e3449160a8e3"})
2025-05-13 12:45:49,884 - slack_bolt.App - DEBUG - [internals.py:42] - Response time: 102 milliseconds
2025-05-13 12:45:49,893 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: events_api, envelope_id: ba76391b-1b88-4f7e-a11a-e3449160a8e3)
2025-05-13 12:45:55,913 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"envelope_id":"6b251abe-8656-4d24-810b-3b1243d2b5e9","payload":{"token":"K4ZhpQOf4Bh1W7IgNZugkX3V","team_id":"T08RN80K1N3","context_team_id":"T08RN80K1N3","context_enterprise_id":null,"api_app_id":"A08SQGEHMSL","event":{"user":"U08RN80KECX","type":"message","ts":"1747129555.258639","client_msg_id":"194f93f2-8f51-4c1a-857e-7e03702bdcc6","text":"Show me more details about the error","team":"T08RN80K1N3","blocks":[{"type":"rich_text","block_id":"V7CDh","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Show me more details about the error"}]}]}],"channel":"C08RN80PTP1","event_ts":"1747129555.258639","channel_type":"channel"},"type":"event_callback","event_id":"Ev08RQ0RKPE3","event_time":1747129555,"authorizations":[{"enterprise_id":null,"team_id":"T08RN80K1N3","user_id":"U08SQGNTJU8","is_bot":true,"is_enterprise_install":false}],"is_ext_shared_channel":false,"event_context":"4-eyJldCI6Im1lc3NhZ2UiLCJ0aWQiOiJUMDhSTjgwSzFOMyIsImFpZCI6IkEwOFNRR0VITVNMIiwiY2lkIjoiQzA4Uk44MFBUUDEifQ"},"type":"events_api","accepts_response_payload":false,"retry_attempt":0,"retry_reason":""})
2025-05-13 12:45:55,929 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 12:45:55,936 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 12:45:55,949 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: events_api, envelope_id: 6b251abe-8656-4d24-810b-3b1243d2b5e9)
2025-05-13 12:45:55,962 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2025-05-13 12:45:55,975 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2025-05-13 12:45:55,982 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2025-05-13 12:45:55,988 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2025-05-13 12:45:55,988 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2025-05-13 12:45:55,988 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.attaching_function_token.attaching_function_token.AttachingFunctionToken
2025-05-13 12:45:55,995 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_message_events ...
2025-05-13 12:45:56,006 - slack_bolt.App - DEBUG - [app.py:612] - Running listener: handle_message_events ...
2025-05-13 12:45:56,013 - slack_bolt.App - DEBUG - [thread_runner.py:202] - Responding with status: 200 body: "" (0 millis)
2025-05-13 12:45:56,013 - slack - INFO - [slack_app.py:83] - Received message event: {'token': 'K4ZhpQOf4Bh1W7IgNZugkX3V', 'team_id': 'T08RN80K1N3', 'context_team_id': 'T08RN80K1N3', 'context_enterprise_id': None, 'api_app_id': 'A08SQGEHMSL', 'event': {'user': 'U08RN80KECX', 'type': 'message', 'ts': '1747129555.258639', 'client_msg_id': '194f93f2-8f51-4c1a-857e-7e03702bdcc6', 'text': 'Show me more details about the error', 'team': 'T08RN80K1N3', 'blocks': [{'type': 'rich_text', 'block_id': 'V7CDh', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': 'Show me more details about the error'}]}]}], 'channel': 'C08RN80PTP1', 'event_ts': '1747129555.258639', 'channel_type': 'channel'}, 'type': 'event_callback', 'event_id': 'Ev08RQ0RKPE3', 'event_time': 1747129555, 'authorizations': [{'enterprise_id': None, 'team_id': 'T08RN80K1N3', 'user_id': 'U08SQGNTJU8', 'is_bot': True, 'is_enterprise_install': False}], 'is_ext_shared_channel': False, 'event_context': '4-eyJldCI6Im1lc3NhZ2UiLCJ0aWQiOiJUMDhSTjgwSzFOMyIsImFpZCI6IkEwOFNRR0VITVNMIiwiY2lkIjoiQzA4Uk44MFBUUDEifQ'}
2025-05-13 12:45:56,025 - slack_bolt.App - DEBUG - [client.py:201] - Sending a message (session id: 5ed28dd7-f148-41fe-9e0f-78cec5dd9467, message: {"envelope_id": "6b251abe-8656-4d24-810b-3b1243d2b5e9"})
2025-05-13 12:45:56,032 - slack - INFO - [slack_app.py:95] - Processing message from user None in channel None: 
2025-05-13 12:45:56,057 - slack_bolt.App - DEBUG - [internals.py:42] - Response time: 94 milliseconds
2025-05-13 12:45:56,057 - slack - DEBUG - [slack_app.py:99] - Not a follow-up question, ignoring
2025-05-13 12:45:56,070 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: events_api, envelope_id: 6b251abe-8656-4d24-810b-3b1243d2b5e9)
2025-05-13 12:54:42,602 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"envelope_id":"bff46b79-4e87-48c6-b164-6fb222e29a8c","payload":{"token":"K4ZhpQOf4Bh1W7IgNZugkX3V","team_id":"T08RN80K1N3","team_domain":"cell-logs","channel_id":"C08RN80PTP1","channel_name":"all-cell-logs","user_id":"U08RN80KECX","user_name":"emmanuel.kipngetich","command":"\/lokilens","text":"Show me more details about the error","api_app_id":"A08SQGEHMSL","is_enterprise_install":"false","response_url":"https:\/\/hooks.slack.com\/commands\/T08RN80K1N3\/8881042039734\/GjABOGvvi1fHeUDxaxqWjjMR","trigger_id":"8881042062550.8872272647751.abb95d5241eed1574b6bf26cf14bf66a"},"type":"slash_commands","accepts_response_payload":true})
2025-05-13 12:54:42,613 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 12:54:42,620 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 12:54:42,643 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: slash_commands, envelope_id: bff46b79-4e87-48c6-b164-6fb222e29a8c)
2025-05-13 12:54:42,660 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2025-05-13 12:54:42,666 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2025-05-13 12:54:42,666 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2025-05-13 12:54:42,667 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2025-05-13 12:54:42,667 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2025-05-13 12:54:42,667 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.attaching_function_token.attaching_function_token.AttachingFunctionToken
2025-05-13 12:54:42,667 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_message_events ...
2025-05-13 12:54:42,668 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_loki_command ...
2025-05-13 12:54:42,668 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_lokilens_command ...
2025-05-13 12:54:42,675 - slack_bolt.App - DEBUG - [app.py:612] - Running listener: handle_lokilens_command ...
2025-05-13 12:54:42,687 - slack - INFO - [slack_app.py:379] - Received /lokilens command: {'token': 'K4ZhpQOf4Bh1W7IgNZugkX3V', 'team_id': 'T08RN80K1N3', 'team_domain': 'cell-logs', 'channel_id': 'C08RN80PTP1', 'channel_name': 'all-cell-logs', 'user_id': 'U08RN80KECX', 'user_name': 'emmanuel.kipngetich', 'command': '/lokilens', 'text': 'Show me more details about the error', 'api_app_id': 'A08SQGEHMSL', 'is_enterprise_install': 'false', 'response_url': 'https://hooks.slack.com/commands/T08RN80K1N3/8881042039734/GjABOGvvi1fHeUDxaxqWjjMR', 'trigger_id': '8881042062550.8872272647751.abb95d5241eed1574b6bf26cf14bf66a'}
2025-05-13 12:54:42,694 - slack - DEBUG - [slack_app.py:384] - Command text: Show me more details about the error
2025-05-13 12:54:42,694 - slack - INFO - [slack_app.py:396] - Starting natural language parsing
2025-05-13 12:54:42,695 - slack - INFO - [slack_app.py:231] - Parsing natural language input: Show me more details about the error
2025-05-13 12:54:42,695 - slack - DEBUG - [slack_app.py:257] - Sending request to OpenAI for parsing
2025-05-13 12:54:42,706 - slack_bolt.App - DEBUG - [thread_runner.py:202] - Responding with status: 200 body: "Searching logs for: Show me more details about the error" (25 millis)
2025-05-13 12:54:42,720 - slack_bolt.App - DEBUG - [client.py:201] - Sending a message (session id: 5ed28dd7-f148-41fe-9e0f-78cec5dd9467, message: {"envelope_id": "bff46b79-4e87-48c6-b164-6fb222e29a8c", "payload": {"text": "Searching logs for: Show me more details about the error"}})
2025-05-13 12:54:42,727 - slack_bolt.App - DEBUG - [internals.py:42] - Response time: 71 milliseconds
2025-05-13 12:54:42,739 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: slash_commands, envelope_id: bff46b79-4e87-48c6-b164-6fb222e29a8c)
2025-05-13 12:54:42,749 - openai._base_client - DEBUG - [_base_client.py:482] - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-d6c3e017-4451-49be-b34f-910cf8ac5aab', 'json_data': {'messages': [{'role': 'user', 'content': "\n    Parse the following text into a search ID and a time range.\n    The time range should be in the format YYYYMMDDHHMM (e.g., 202205130933 for May 13, 2022 at 09:33).\n    If the time is not specified, use the current time.\n    If the date is not specified, use today's date.\n    \n    Text: Show me more details about the error\n    \n    Return ONLY the search ID and time range in this exact format:\n    search_id: <id>\n    time_range: <YYYYMMDDHHMM>\n    \n    Do not include any other text or explanation.\n    "}], 'model': 'gpt-4', 'max_tokens': 100}}
2025-05-13 12:54:42,774 - openai._base_client - DEBUG - [_base_client.py:965] - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-05-13 12:54:42,789 - httpcore.connection - DEBUG - [_trace.py:47] - close.started
2025-05-13 12:54:42,820 - httpcore.connection - DEBUG - [_trace.py:47] - close.complete
2025-05-13 12:54:42,833 - httpcore.connection - DEBUG - [_trace.py:47] - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-05-13 12:54:42,888 - httpcore.connection - DEBUG - [_trace.py:47] - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10f2fca50>
2025-05-13 12:54:42,894 - httpcore.connection - DEBUG - [_trace.py:47] - start_tls.started ssl_context=<ssl.SSLContext object at 0x10cef2de0> server_hostname='api.openai.com' timeout=5.0
2025-05-13 12:54:42,947 - httpcore.connection - DEBUG - [_trace.py:47] - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10dd168b0>
2025-05-13 12:54:42,948 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.started request=<Request [b'POST']>
2025-05-13 12:54:42,961 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.complete
2025-05-13 12:54:42,961 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.started request=<Request [b'POST']>
2025-05-13 12:54:42,974 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.complete
2025-05-13 12:54:42,981 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.started request=<Request [b'POST']>
2025-05-13 12:54:43,694 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.complete return_value=(b'HTTP/1.1', 429, b'Too Many Requests', [(b'Date', b'Tue, 13 May 2025 09:54:43 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'337'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_7a0043d7e977cafbb30d286bee66fe14'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'93f146abb9b88a65-MBA'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-13 12:54:43,784 - httpx - INFO - [_client.py:1025] - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-05-13 12:54:43,787 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.started request=<Request [b'POST']>
2025-05-13 12:54:43,800 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.complete
2025-05-13 12:54:43,800 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.started
2025-05-13 12:54:43,801 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.complete
2025-05-13 12:54:43,809 - openai._base_client - DEBUG - [_base_client.py:1003] - HTTP Response: POST https://api.openai.com/v1/chat/completions "429 Too Many Requests" Headers({'date': 'Tue, 13 May 2025 09:54:43 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '337', 'connection': 'keep-alive', 'vary': 'Origin', 'x-request-id': 'req_7a0043d7e977cafbb30d286bee66fe14', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '93f146abb9b88a65-MBA', 'alt-svc': 'h3=":443"; ma=86400'})
2025-05-13 12:54:43,819 - openai._base_client - DEBUG - [_base_client.py:1011] - request_id: req_7a0043d7e977cafbb30d286bee66fe14
2025-05-13 12:54:43,835 - openai._base_client - DEBUG - [_base_client.py:1016] - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/openai/_base_client.py", line 1014, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://api.openai.com/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-05-13 12:54:44,006 - openai._base_client - DEBUG - [_base_client.py:764] - Retrying due to status code 429
2025-05-13 12:54:44,021 - openai._base_client - DEBUG - [_base_client.py:1055] - 2 retries left
2025-05-13 12:54:44,036 - openai._base_client - INFO - [_base_client.py:1058] - Retrying request to /chat/completions in 0.412494 seconds
2025-05-13 12:54:44,473 - openai._base_client - DEBUG - [_base_client.py:482] - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-d6c3e017-4451-49be-b34f-910cf8ac5aab', 'json_data': {'messages': [{'role': 'user', 'content': "\n    Parse the following text into a search ID and a time range.\n    The time range should be in the format YYYYMMDDHHMM (e.g., 202205130933 for May 13, 2022 at 09:33).\n    If the time is not specified, use the current time.\n    If the date is not specified, use today's date.\n    \n    Text: Show me more details about the error\n    \n    Return ONLY the search ID and time range in this exact format:\n    search_id: <id>\n    time_range: <YYYYMMDDHHMM>\n    \n    Do not include any other text or explanation.\n    "}], 'model': 'gpt-4', 'max_tokens': 100}}
2025-05-13 12:54:44,480 - openai._base_client - DEBUG - [_base_client.py:965] - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-05-13 12:54:44,492 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.started request=<Request [b'POST']>
2025-05-13 12:54:44,505 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.complete
2025-05-13 12:54:44,505 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.started request=<Request [b'POST']>
2025-05-13 12:54:44,524 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.complete
2025-05-13 12:54:44,530 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.started request=<Request [b'POST']>
2025-05-13 12:54:44,783 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.complete return_value=(b'HTTP/1.1', 429, b'Too Many Requests', [(b'Date', b'Tue, 13 May 2025 09:54:44 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'337'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_bb8d25d479ee67e56ffda7098ab204fd'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'93f146b56a758a65-MBA'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-13 12:54:44,796 - httpx - INFO - [_client.py:1025] - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-05-13 12:54:44,802 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.started request=<Request [b'POST']>
2025-05-13 12:54:44,815 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.complete
2025-05-13 12:54:44,821 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.started
2025-05-13 12:54:44,828 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.complete
2025-05-13 12:54:44,846 - openai._base_client - DEBUG - [_base_client.py:1003] - HTTP Response: POST https://api.openai.com/v1/chat/completions "429 Too Many Requests" Headers({'date': 'Tue, 13 May 2025 09:54:44 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '337', 'connection': 'keep-alive', 'vary': 'Origin', 'x-request-id': 'req_bb8d25d479ee67e56ffda7098ab204fd', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '93f146b56a758a65-MBA', 'alt-svc': 'h3=":443"; ma=86400'})
2025-05-13 12:54:44,852 - openai._base_client - DEBUG - [_base_client.py:1011] - request_id: req_bb8d25d479ee67e56ffda7098ab204fd
2025-05-13 12:54:44,852 - openai._base_client - DEBUG - [_base_client.py:1016] - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/openai/_base_client.py", line 1014, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://api.openai.com/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-05-13 12:54:44,871 - openai._base_client - DEBUG - [_base_client.py:764] - Retrying due to status code 429
2025-05-13 12:54:44,884 - openai._base_client - DEBUG - [_base_client.py:1053] - 1 retry left
2025-05-13 12:54:44,896 - openai._base_client - INFO - [_base_client.py:1058] - Retrying request to /chat/completions in 0.779563 seconds
2025-05-13 12:54:45,691 - openai._base_client - DEBUG - [_base_client.py:482] - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-d6c3e017-4451-49be-b34f-910cf8ac5aab', 'json_data': {'messages': [{'role': 'user', 'content': "\n    Parse the following text into a search ID and a time range.\n    The time range should be in the format YYYYMMDDHHMM (e.g., 202205130933 for May 13, 2022 at 09:33).\n    If the time is not specified, use the current time.\n    If the date is not specified, use today's date.\n    \n    Text: Show me more details about the error\n    \n    Return ONLY the search ID and time range in this exact format:\n    search_id: <id>\n    time_range: <YYYYMMDDHHMM>\n    \n    Do not include any other text or explanation.\n    "}], 'model': 'gpt-4', 'max_tokens': 100}}
2025-05-13 12:54:45,704 - openai._base_client - DEBUG - [_base_client.py:965] - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-05-13 12:54:45,717 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.started request=<Request [b'POST']>
2025-05-13 12:54:45,729 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.complete
2025-05-13 12:54:45,730 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.started request=<Request [b'POST']>
2025-05-13 12:54:45,747 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.complete
2025-05-13 12:54:45,754 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.started request=<Request [b'POST']>
2025-05-13 12:54:45,996 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.complete return_value=(b'HTTP/1.1', 429, b'Too Many Requests', [(b'Date', b'Tue, 13 May 2025 09:54:46 GMT'), (b'Content-Type', b'application/json; charset=utf-8'), (b'Content-Length', b'337'), (b'Connection', b'keep-alive'), (b'vary', b'Origin'), (b'x-request-id', b'req_e507e853cf814f0e88260b1ce1133a28'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'93f146bd0dce8a65-MBA'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-13 12:54:46,008 - httpx - INFO - [_client.py:1025] - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-05-13 12:54:46,008 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.started request=<Request [b'POST']>
2025-05-13 12:54:46,008 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.complete
2025-05-13 12:54:46,008 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.started
2025-05-13 12:54:46,009 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.complete
2025-05-13 12:54:46,021 - openai._base_client - DEBUG - [_base_client.py:1003] - HTTP Response: POST https://api.openai.com/v1/chat/completions "429 Too Many Requests" Headers({'date': 'Tue, 13 May 2025 09:54:46 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '337', 'connection': 'keep-alive', 'vary': 'Origin', 'x-request-id': 'req_e507e853cf814f0e88260b1ce1133a28', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '93f146bd0dce8a65-MBA', 'alt-svc': 'h3=":443"; ma=86400'})
2025-05-13 12:54:46,028 - openai._base_client - DEBUG - [_base_client.py:1011] - request_id: req_e507e853cf814f0e88260b1ce1133a28
2025-05-13 12:54:46,028 - openai._base_client - DEBUG - [_base_client.py:1016] - Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/openai/_base_client.py", line 1014, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://api.openai.com/v1/chat/completions'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-05-13 12:54:46,040 - openai._base_client - DEBUG - [_base_client.py:1033] - Re-raising status error
2025-05-13 12:54:46,049 - slack - ERROR - [slack_app.py:305] - Error parsing natural language input: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-05-13 12:54:46,056 - slack - ERROR - [slack_app.py:441] - Error processing command: Could not understand the input. Please try again with a clearer format. Example: '12345 happened yesterday at 3pm'
Traceback (most recent call last):
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/app/slack/slack_app.py", line 258, in parse_natural_language_input
    Return ONLY the search ID and time range in this exact format:
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    Do not include any other text or explanation.
    ^^^^^
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/openai/resources/chat/completions/completions.py", line 925, in create
    return self._post(
           ~~~~~~~~~~^
        "/chat/completions",
        ^^^^^^^^^^^^^^^^^^^^
    ...<43 lines>...
        stream_cls=Stream[ChatCompletionChunk],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/openai/_base_client.py", line 1239, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/openai/_base_client.py", line 1034, in request
    raise self._make_status_error_from_response(err.response) from None
openai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/app/slack/slack_app.py", line 397, in handle_lokilens_command
    ack("Please provide a search ID and time information. Example: `/lokilens 12345 happened yesterday at 3pm`")
                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/app/slack/slack_app.py", line 306, in parse_natural_language_input
    search_id = id_match.group(0)
ValueError: Could not understand the input. Please try again with a clearer format. Example: '12345 happened yesterday at 3pm'
2025-05-13 12:54:46,197 - slack_bolt.App - DEBUG - [base_client.py:265] - Sending a request - url: https://slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C08RN80PTP1', 'text': "Error processing command: Could not understand the input. Please try again with a clearer format. Example: '12345 happened yesterday at 3pm'", 'team_id': 'T08RN80K1N3'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.13.3 slackclient/3.35.0 Darwin/24.4.0'}
2025-05-13 12:54:47,183 - slack_bolt.App - DEBUG - [base_client.py:556] - Received the following response - status: 200, headers: {'date': 'Tue, 13 May 2025 09:54:47 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '25426b30a0f0854284194e90669e4f9f', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'commands,chat:write,channels:history,groups:history,im:history', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'aCMW5prFcVXNpm16pyFFsgAAEAo', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '1033', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-rynjmoux,envoy-edge-bom-xtqeotdl', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '292', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-fmnp', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C08RN80PTP1","ts":"1747130087.055449","message":{"user":"U08SQGNTJU8","type":"message","ts":"1747130087.055449","bot_id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","text":"Error processing command: Could not understand the input. Please try again with a clearer format. Example: '12345 happened yesterday at 3pm'","team":"T08RN80K1N3","bot_profile":{"id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","user_id":"U08SQGNTJU8","name":"Lokilens","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1747104773,"team_id":"T08RN80K1N3"},"blocks":[{"type":"rich_text","block_id":"H8Adv","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Error processing command: Could not understand the input. Please try again with a clearer format. Example: '12345 happened yesterday at 3pm'"}]}]}]}}
2025-05-13 12:54:47,677 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"envelope_id":"55d64d3e-4466-42f0-90fc-cd7cfcc3daf5","payload":{"token":"K4ZhpQOf4Bh1W7IgNZugkX3V","team_id":"T08RN80K1N3","context_team_id":"T08RN80K1N3","context_enterprise_id":null,"api_app_id":"A08SQGEHMSL","event":{"user":"U08SQGNTJU8","type":"message","ts":"1747130087.055449","bot_id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","text":"Error processing command: Could not understand the input. Please try again with a clearer format. Example: '12345 happened yesterday at 3pm'","team":"T08RN80K1N3","bot_profile":{"id":"B08SQGNSACQ","deleted":false,"name":"Lokilens","updated":1747104773,"app_id":"A08SQGEHMSL","user_id":"U08SQGNTJU8","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"team_id":"T08RN80K1N3"},"blocks":[{"type":"rich_text","block_id":"Kr8M","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Error processing command: Could not understand the input. Please try again with a clearer format. Example: '12345 happened yesterday at 3pm'"}]}]}],"channel":"C08RN80PTP1","event_ts":"1747130087.055449","channel_type":"channel"},"type":"event_callback","event_id":"Ev08RQ20TP5M","event_time":1747130087,"authorizations":[{"enterprise_id":null,"team_id":"T08RN80K1N3","user_id":"U08SQGNTJU8","is_bot":true,"is_enterprise_install":false}],"is_ext_shared_channel":false,"event_context":"4-eyJldCI6Im1lc3NhZ2UiLCJ0aWQiOiJUMDhSTjgwSzFOMyIsImFpZCI6IkEwOFNRR0VITVNMIiwiY2lkIjoiQzA4Uk44MFBUUDEifQ"},"type":"events_api","accepts_response_payload":false,"retry_attempt":0,"retry_reason":""})
2025-05-13 12:54:47,690 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 12:54:47,696 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 12:54:47,702 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: events_api, envelope_id: 55d64d3e-4466-42f0-90fc-cd7cfcc3daf5)
2025-05-13 12:54:47,714 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2025-05-13 12:54:47,714 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2025-05-13 12:54:47,714 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2025-05-13 12:54:47,720 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2025-05-13 12:54:47,721 - slack_bolt.IgnoringSelfEvents - DEBUG - [ignoring_self_events.py:71] - Skipped self event: {'user': 'U08SQGNTJU8', 'type': 'message', 'ts': '1747130087.055449', 'bot_id': 'B08SQGNSACQ', 'app_id': 'A08SQGEHMSL', 'text': "Error processing command: Could not understand the input. Please try again with a clearer format. Example: '12345 happened yesterday at 3pm'", 'team': 'T08RN80K1N3', 'bot_profile': {'id': 'B08SQGNSACQ', 'deleted': False, 'name': 'Lokilens', 'updated': 1747104773, 'app_id': 'A08SQGEHMSL', 'user_id': 'U08SQGNTJU8', 'icons': {'image_36': 'https://a.slack-edge.com/80588/img/plugins/app/bot_36.png', 'image_48': 'https://a.slack-edge.com/80588/img/plugins/app/bot_48.png', 'image_72': 'https://a.slack-edge.com/80588/img/plugins/app/service_72.png'}, 'team_id': 'T08RN80K1N3'}, 'blocks': [{'type': 'rich_text', 'block_id': 'Kr8M', 'elements': [{'type': 'rich_text_section', 'elements': [{'type': 'text', 'text': "Error processing command: Could not understand the input. Please try again with a clearer format. Example: '12345 happened yesterday at 3pm'"}]}]}], 'channel': 'C08RN80PTP1', 'event_ts': '1747130087.055449', 'channel_type': 'channel'}
2025-05-13 12:54:47,728 - slack_bolt.App - DEBUG - [client.py:201] - Sending a message (session id: 5ed28dd7-f148-41fe-9e0f-78cec5dd9467, message: {"envelope_id": "55d64d3e-4466-42f0-90fc-cd7cfcc3daf5"})
2025-05-13 12:54:47,752 - slack_bolt.App - DEBUG - [internals.py:42] - Response time: 38 milliseconds
2025-05-13 12:54:47,758 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: events_api, envelope_id: 55d64d3e-4466-42f0-90fc-cd7cfcc3daf5)
