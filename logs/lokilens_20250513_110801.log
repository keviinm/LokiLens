2025-05-13 11:08:02,324 - slack - INFO - [slack_app.py:24] - Loading environment variables...
2025-05-13 11:08:02,325 - slack - INFO - [slack_app.py:26] - Environment variables loaded successfully
2025-05-13 11:08:02,325 - slack - INFO - [slack_app.py:29] - Initializing Slack app...
2025-05-13 11:08:02,366 - slack_bolt.App - DEBUG - [base_client.py:265] - Sending a request - url: https://slack.com/api/auth.test, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.23.0 Python/3.13.3 slackclient/3.35.0 Darwin/24.4.0'}
2025-05-13 11:08:03,144 - slack_bolt.App - DEBUG - [base_client.py:556] - Received the following response - status: 200, headers: {'date': 'Tue, 13 May 2025 08:08:03 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '7bdff52e891ec948f3fa393a7adf6e74', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-oauth-scopes': 'commands,chat:write', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'aCL94y2kwUyNm_kYIH5GBQAAABI', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '189', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-xrvwxrrz,envoy-edge-bom-mddjbemj', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '211', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-vmfi', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"https:\/\/cell-logs.slack.com\/","team":"Cell-logs","user":"lokilens","team_id":"T08RN80K1N3","user_id":"U08SQGNTJU8","bot_id":"B08SQGNSACQ","is_enterprise_install":false}
2025-05-13 11:08:03,144 - slack - INFO - [slack_app.py:31] - Slack app initialized successfully
2025-05-13 11:08:03,144 - slack - INFO - [slack_app.py:34] - Initializing S3 operations...
2025-05-13 11:08:03,144 - s3 - INFO - [s3_operations.py:14] - Initializing S3 operations
2025-05-13 11:08:03,144 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2025-05-13 11:08:03,146 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-call.apigateway to before-call.api-gateway
2025-05-13 11:08:03,146 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2025-05-13 11:08:03,146 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2025-05-13 11:08:03,146 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2025-05-13 11:08:03,147 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2025-05-13 11:08:03,147 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2025-05-13 11:08:03,148 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2025-05-13 11:08:03,148 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2025-05-13 11:08:03,148 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2025-05-13 11:08:03,148 - botocore.hooks - DEBUG - [hooks.py:482] - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2025-05-13 11:08:03,150 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/endpoints.json
2025-05-13 11:08:03,160 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/sdk-default-configuration.json
2025-05-13 11:08:03,160 - botocore.hooks - DEBUG - [hooks.py:238] - Event choose-service-name: calling handler <function handle_service_name_alias at 0x102ca1620>
2025-05-13 11:08:03,173 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/s3/2006-03-01/service-2.json.gz
2025-05-13 11:08:03,179 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/s3/2006-03-01/service-2.sdk-extras.json
2025-05-13 11:08:03,204 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/s3/2006-03-01/endpoint-rule-set-1.json.gz
2025-05-13 11:08:03,206 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/partitions.json
2025-05-13 11:08:03,208 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x102bc76a0>
2025-05-13 11:08:03,208 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x1056463e0>
2025-05-13 11:08:03,226 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x102bc7420>
2025-05-13 11:08:03,226 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_service
2025-05-13 11:08:03,226 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_global
2025-05-13 11:08:03,226 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_service
2025-05-13 11:08:03,226 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_global
2025-05-13 11:08:03,226 - botocore.configprovider - DEBUG - [configprovider.py:1005] - No configured endpoint found.
2025-05-13 11:08:03,228 - botocore.endpoint - DEBUG - [endpoint.py:414] - Setting s3 timeout as (60, 60)
2025-05-13 11:08:03,229 - botocore.loaders - DEBUG - [loaders.py:181] - Loading JSON file: /Users/emmanuel.kipngetich/Downloads/2025/AI/LokiLens/venv/lib/python3.13/site-packages/botocore/data/_retry.json
2025-05-13 11:08:03,229 - botocore.client - DEBUG - [client.py:290] - Registering retry handlers for service: s3
2025-05-13 11:08:03,230 - botocore.utils - DEBUG - [utils.py:1718] - Registering S3 region redirector handler
2025-05-13 11:08:03,230 - botocore.utils - DEBUG - [utils.py:1666] - Registering S3Express Identity Resolver
2025-05-13 11:08:03,230 - s3 - INFO - [s3_operations.py:24] - S3 client initialized successfully
2025-05-13 11:08:03,230 - slack - INFO - [slack_app.py:39] - S3 operations initialized successfully
2025-05-13 11:08:03,230 - slack - INFO - [slack_app.py:42] - Initializing OpenAI client...
2025-05-13 11:08:03,253 - slack - INFO - [slack_app.py:44] - OpenAI client initialized successfully
2025-05-13 11:08:03,254 - slack - INFO - [slack_app.py:47] - Initializing MCP client...
2025-05-13 11:08:03,254 - mcp - INFO - [mcp_client.py:30] - Initializing LogSearchClient...
2025-05-13 11:08:03,254 - mcp - INFO - [mcp_client.py:45] - Initializing OpenAI client...
2025-05-13 11:08:03,260 - mcp - INFO - [mcp_client.py:48] - OpenAI client initialized successfully
2025-05-13 11:08:03,261 - mcp - INFO - [mcp_client.py:53] - Initializing MCP tools...
2025-05-13 11:08:03,261 - mcp - INFO - [mcp_client.py:165] - Connecting to MCP server at http://localhost:8000/mcp
2025-05-13 11:08:03,262 - urllib3.connectionpool - DEBUG - [connectionpool.py:241] - Starting new HTTP connection (1): localhost:8000
2025-05-13 11:08:03,280 - urllib3.connectionpool - DEBUG - [connectionpool.py:544] - http://localhost:8000 "GET /mcp HTTP/1.1" 200 None
2025-05-13 11:08:03,280 - mcp - INFO - [mcp_client.py:180] - Response status code: 200
2025-05-13 11:08:03,280 - mcp - INFO - [mcp_client.py:181] - Response headers: {'date': 'Tue, 13 May 2025 08:08:02 GMT', 'server': 'uvicorn', 'cache-control': 'no-store', 'connection': 'keep-alive', 'x-accel-buffering': 'no', 'content-type': 'text/event-stream; charset=utf-8', 'Transfer-Encoding': 'chunked'}
2025-05-13 11:08:03,280 - sseclient - DEBUG - [__init__.py:32] - Initialized SSE client from event source <Response [200]>
2025-05-13 11:08:03,280 - sseclient - DEBUG - [__init__.py:108] - Dispatching endpoint event, 58 bytes...
2025-05-13 11:08:03,280 - mcp - INFO - [mcp_client.py:190] - Received session ID: 2bffdaca9da94479bd86174b67856b40
2025-05-13 11:08:03,280 - mcp - INFO - [mcp_client.py:56] - MCP tools initialized successfully
2025-05-13 11:08:03,280 - slack - INFO - [slack_app.py:49] - MCP client initialized successfully
2025-05-13 11:08:03,281 - __main__ - INFO - [main.py:34] - 🚀 Starting Loki Lens application...
2025-05-13 11:08:03,281 - s3 - INFO - [s3_operations.py:14] - Initializing S3 operations
2025-05-13 11:08:03,281 - botocore.hooks - DEBUG - [hooks.py:238] - Event choose-service-name: calling handler <function handle_service_name_alias at 0x102ca1620>
2025-05-13 11:08:03,282 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x102bc76a0>
2025-05-13 11:08:03,282 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x1056463e0>
2025-05-13 11:08:03,282 - botocore.hooks - DEBUG - [hooks.py:238] - Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x102bc7420>
2025-05-13 11:08:03,282 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_service
2025-05-13 11:08:03,282 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: environment_global
2025-05-13 11:08:03,282 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_service
2025-05-13 11:08:03,282 - botocore.configprovider - DEBUG - [configprovider.py:989] - Looking for endpoint for s3 via: config_global
2025-05-13 11:08:03,282 - botocore.configprovider - DEBUG - [configprovider.py:1005] - No configured endpoint found.
2025-05-13 11:08:03,283 - botocore.endpoint - DEBUG - [endpoint.py:414] - Setting s3 timeout as (60, 60)
2025-05-13 11:08:03,284 - botocore.client - DEBUG - [client.py:290] - Registering retry handlers for service: s3
2025-05-13 11:08:03,284 - botocore.utils - DEBUG - [utils.py:1718] - Registering S3 region redirector handler
2025-05-13 11:08:03,284 - botocore.utils - DEBUG - [utils.py:1666] - Registering S3Express Identity Resolver
2025-05-13 11:08:03,284 - s3 - INFO - [s3_operations.py:24] - S3 client initialized successfully
2025-05-13 11:08:03,285 - slack - INFO - [slack_app.py:251] - Starting Slack app in Socket Mode
2025-05-13 11:08:03,285 - __main__ - INFO - [main.py:53] - ✅ Slack integration started
2025-05-13 11:08:03,304 - slack_bolt.App - DEBUG - [base_client.py:265] - Sending a request - url: https://slack.com/api/apps.connections.open, query_params: {}, body_params: {}, files: {}, json_body: None, headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Authorization': '(redacted)', 'User-Agent': 'Bolt/1.23.0 Python/3.13.3 slackclient/3.35.0 Darwin/24.4.0'}
2025-05-13 11:08:04,080 - slack_bolt.App - DEBUG - [base_client.py:556] - Received the following response - status: 200, headers: {'date': 'Tue, 13 May 2025 08:08:04 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '074bcc54725f2bd4081623b2a6bdafac', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'x-robots-tag': 'noindex,nofollow', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'connections:write', 'x-oauth-scopes': 'connections:write,authorizations:read', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'aCL95GVe8MeQOs8er6_dgwAAED8', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '173', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-vrzklemu,envoy-edge-canary-bom-rphsejli', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '204', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-zsrf', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"url":"wss:\/\/wss-primary.slack.com\/link\/?ticket=0cdff5ea-251e-40f5-8a0b-12deed2acc24&app_id=80ecbf266142da985b68b05f1ff313c100b9cdf30b305f7e8a16dce5f531ab94"}
2025-05-13 11:08:04,998 - slack_bolt.App - INFO - [client.py:193] - A new session has been established (session id: f267fd1f-4bbf-44d8-a057-6bcdef78604b)
2025-05-13 11:08:05,005 - slack_bolt.App - INFO - [base_handler.py:51] - ⚡️ Bolt app is running!
2025-05-13 11:08:05,039 - slack_bolt.App - INFO - [client.py:266] - Starting to receive messages from a new connection (session id: f267fd1f-4bbf-44d8-a057-6bcdef78604b)
2025-05-13 11:08:05,052 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"type":"hello","num_connections":1,"debug_info":{"host":"applink-14","build_number":117,"approximate_connection_time":18060},"connection_info":{"app_id":"A08SQGEHMSL"}})
2025-05-13 11:08:05,057 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 11:08:05,064 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 11:08:05,070 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: hello, envelope_id: None)
2025-05-13 11:08:05,070 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: hello, envelope_id: None)
2025-05-13 11:08:36,077 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"envelope_id":"4eac1a6a-0346-4db9-add7-c8bd9247052c","payload":{"token":"K4ZhpQOf4Bh1W7IgNZugkX3V","team_id":"T08RN80K1N3","team_domain":"cell-logs","channel_id":"C08RN80PTP1","channel_name":"all-cell-logs","user_id":"U08RN80KECX","user_name":"emmanuel.kipngetich","command":"\/lokilens","text":"what errors occurred in the payment service on February 2, 2025 at 23:29","api_app_id":"A08SQGEHMSL","is_enterprise_install":"false","response_url":"https:\/\/hooks.slack.com\/commands\/T08RN80K1N3\/8880495548886\/gVlfapZE36Y9cyOtKMpUbpsq","trigger_id":"8880495621062.8872272647751.99420d5d3b55bb4308f8f2d5ce4f9322"},"type":"slash_commands","accepts_response_payload":true})
2025-05-13 11:08:36,090 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 11:08:36,097 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 11:08:36,121 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: slash_commands, envelope_id: 4eac1a6a-0346-4db9-add7-c8bd9247052c)
2025-05-13 11:08:36,141 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2025-05-13 11:08:36,154 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2025-05-13 11:08:36,167 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2025-05-13 11:08:36,168 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2025-05-13 11:08:36,168 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2025-05-13 11:08:36,168 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.attaching_function_token.attaching_function_token.AttachingFunctionToken
2025-05-13 11:08:36,168 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_loki_command ...
2025-05-13 11:08:36,169 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_lokilens_command ...
2025-05-13 11:08:36,169 - slack_bolt.App - DEBUG - [app.py:612] - Running listener: handle_lokilens_command ...
2025-05-13 11:08:36,181 - slack - INFO - [slack_app.py:206] - Received /lokilens command: {'token': 'K4ZhpQOf4Bh1W7IgNZugkX3V', 'team_id': 'T08RN80K1N3', 'team_domain': 'cell-logs', 'channel_id': 'C08RN80PTP1', 'channel_name': 'all-cell-logs', 'user_id': 'U08RN80KECX', 'user_name': 'emmanuel.kipngetich', 'command': '/lokilens', 'text': 'what errors occurred in the payment service on February 2, 2025 at 23:29', 'api_app_id': 'A08SQGEHMSL', 'is_enterprise_install': 'false', 'response_url': 'https://hooks.slack.com/commands/T08RN80K1N3/8880495548886/gVlfapZE36Y9cyOtKMpUbpsq', 'trigger_id': '8880495621062.8872272647751.99420d5d3b55bb4308f8f2d5ce4f9322'}
2025-05-13 11:08:36,181 - slack - DEBUG - [slack_app.py:211] - Command text: what errors occurred in the payment service on February 2, 2025 at 23:29
2025-05-13 11:08:36,181 - slack - INFO - [slack_app.py:220] - Starting natural language parsing
2025-05-13 11:08:36,181 - slack - INFO - [slack_app.py:87] - Parsing natural language input: what errors occurred in the payment service on February 2, 2025 at 23:29
2025-05-13 11:08:36,181 - slack - DEBUG - [slack_app.py:105] - Sending request to OpenAI for parsing
2025-05-13 11:08:36,195 - slack_bolt.App - DEBUG - [thread_runner.py:202] - Responding with status: 200 body: "" (14 millis)
2025-05-13 11:08:36,195 - slack_bolt.App - DEBUG - [client.py:201] - Sending a message (session id: f267fd1f-4bbf-44d8-a057-6bcdef78604b, message: {"envelope_id": "4eac1a6a-0346-4db9-add7-c8bd9247052c"})
2025-05-13 11:08:36,208 - slack_bolt.App - DEBUG - [internals.py:42] - Response time: 74 milliseconds
2025-05-13 11:08:36,214 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: slash_commands, envelope_id: 4eac1a6a-0346-4db9-add7-c8bd9247052c)
2025-05-13 11:08:41,657 - openai._base_client - DEBUG - [_base_client.py:482] - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-681dd416-1a17-4613-8d17-54445eba88a2', 'json_data': {'messages': [{'role': 'user', 'content': "\n    Parse the following text into a search ID and a time range.\n    The time range should be in the format YYYYMMDDHHMM (e.g., 202205130933 for May 13, 2022 at 09:33).\n    If the time is not specified, use the current time.\n    If the date is not specified, use today's date.\n    \n    Text: what errors occurred in the payment service on February 2, 2025 at 23:29\n    \n    Return ONLY the search ID and time range in this exact format:\n    search_id: <id>\n    time_range: <YYYYMMDDHHMM>\n    \n    Do not include any other text or explanation.\n    "}], 'model': 'gpt-4', 'max_tokens': 100}}
2025-05-13 11:08:41,829 - openai._base_client - DEBUG - [_base_client.py:965] - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-05-13 11:08:41,830 - httpcore.connection - DEBUG - [_trace.py:47] - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-05-13 11:08:41,875 - httpcore.connection - DEBUG - [_trace.py:47] - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c297380>
2025-05-13 11:08:41,882 - httpcore.connection - DEBUG - [_trace.py:47] - start_tls.started ssl_context=<ssl.SSLContext object at 0x10a5fac30> server_hostname='api.openai.com' timeout=5.0
2025-05-13 11:08:41,930 - httpcore.connection - DEBUG - [_trace.py:47] - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c6d2210>
2025-05-13 11:08:41,930 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.started request=<Request [b'POST']>
2025-05-13 11:08:41,937 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.complete
2025-05-13 11:08:41,937 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.started request=<Request [b'POST']>
2025-05-13 11:08:41,949 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.complete
2025-05-13 11:08:41,950 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.started request=<Request [b'POST']>
2025-05-13 11:08:44,018 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 13 May 2025 08:08:44 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hhmri584teit9d0pqdaekcnd'), (b'openai-processing-ms', b'957'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'962'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9861'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'834ms'), (b'x-request-id', b'req_a2df1c2d8a7716f846032c87eca32a98'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=vIzU9qEPEjbZ9ojslCupILpVJ1WaXJSja2joZCZJnFQ-1747123724-1.0.1.1-uHdtEc7DFilGPWQcb2Mr5ym2DsDk8yWovAoUSkQ231snca1JrqRqF.8CPwKWMRjA7gqlz6YJsixlpN_vbLffVoV.yxFgnxq6ctDVh2xYfk4; path=/; expires=Tue, 13-May-25 08:38:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ugOvLM0i1zuX9epZNMHWDc3.mcu4gz0b46AjMrGrvsU-1747123724228-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'93f0ab5f8d770372-NBO'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-13 11:08:44,025 - httpx - INFO - [_client.py:1025] - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 11:08:44,025 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.started request=<Request [b'POST']>
2025-05-13 11:08:44,037 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.complete
2025-05-13 11:08:44,037 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.started
2025-05-13 11:08:44,043 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.complete
2025-05-13 11:08:44,049 - openai._base_client - DEBUG - [_base_client.py:1003] - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Tue, 13 May 2025 08:08:44 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-hhmri584teit9d0pqdaekcnd'), ('openai-processing-ms', '957'), ('openai-version', '2020-10-01'), ('x-envoy-upstream-service-time', '962'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9861'), ('x-ratelimit-reset-requests', '8.64s'), ('x-ratelimit-reset-tokens', '834ms'), ('x-request-id', 'req_a2df1c2d8a7716f846032c87eca32a98'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=vIzU9qEPEjbZ9ojslCupILpVJ1WaXJSja2joZCZJnFQ-1747123724-1.0.1.1-uHdtEc7DFilGPWQcb2Mr5ym2DsDk8yWovAoUSkQ231snca1JrqRqF.8CPwKWMRjA7gqlz6YJsixlpN_vbLffVoV.yxFgnxq6ctDVh2xYfk4; path=/; expires=Tue, 13-May-25 08:38:44 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=ugOvLM0i1zuX9epZNMHWDc3.mcu4gz0b46AjMrGrvsU-1747123724228-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '93f0ab5f8d770372-NBO'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
2025-05-13 11:08:44,055 - openai._base_client - DEBUG - [_base_client.py:1011] - request_id: req_a2df1c2d8a7716f846032c87eca32a98
2025-05-13 11:08:44,064 - slack - DEBUG - [slack_app.py:114] - Received parsing response: search_id: payment_service_errors
time_range: 202502022329
2025-05-13 11:08:44,064 - slack - INFO - [slack_app.py:123] - Successfully parsed input - search_id: payment_service_errors, time_range: 202502022329
2025-05-13 11:08:44,064 - slack - INFO - [slack_app.py:222] - Parsed input - search_id: payment_service_errors, time_range: 202502022329
2025-05-13 11:08:44,070 - slack - INFO - [slack_app.py:225] - Searching logs using MCP client
2025-05-13 11:08:44,070 - mcp - INFO - [mcp_client.py:313] - Searching logs for ID: payment_service_errors with time ranges: ['202502022329']
2025-05-13 11:08:44,077 - mcp - ERROR - [mcp_client.py:330] - Error searching logs for time range 202502022329: 'LogSearchClient' object has no attribute '_search_logs_for_time_range'
2025-05-13 11:08:44,077 - slack - DEBUG - [slack_app.py:227] - MCP client response: {'error': 'No logs found for any of the search patterns', 'results': {}}
2025-05-13 11:08:44,082 - slack - ERROR - [slack_app.py:231] - MCP client error: No logs found for any of the search patterns
2025-05-13 11:08:44,088 - slack_bolt.App - DEBUG - [base_client.py:265] - Sending a request - url: https://slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C08RN80PTP1', 'text': 'Error searching logs: No logs found for any of the search patterns', 'team_id': 'T08RN80K1N3'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.13.3 slackclient/3.35.0 Darwin/24.4.0'}
2025-05-13 11:08:44,985 - slack_bolt.App - DEBUG - [base_client.py:556] - Received the following response - status: 200, headers: {'date': 'Tue, 13 May 2025 08:08:44 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': 'e9a32535add26eaaac6e0959348c2bf0', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'commands,chat:write', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'aCL-DB4GpMqRUa8HW1qrRAAAEDs', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '885', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-fnufwxcf,envoy-edge-bom-duzmwfry', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '283', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-phvu', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C08RN80PTP1","ts":"1747123724.932589","message":{"user":"U08SQGNTJU8","type":"message","ts":"1747123724.932589","bot_id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","text":"Error searching logs: No logs found for any of the search patterns","team":"T08RN80K1N3","bot_profile":{"id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","user_id":"U08SQGNTJU8","name":"Lokilens","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1747104773,"team_id":"T08RN80K1N3"},"blocks":[{"type":"rich_text","block_id":"U9h3H","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Error searching logs: No logs found for any of the search patterns"}]}]}]}}
2025-05-13 11:10:22,086 - slack_bolt.App - DEBUG - [client.py:236] - on_message invoked: (message: {"envelope_id":"cd866595-ac2e-4ded-b48c-0c44c1abfd87","payload":{"token":"K4ZhpQOf4Bh1W7IgNZugkX3V","team_id":"T08RN80K1N3","team_domain":"cell-logs","channel_id":"C08RN80PTP1","channel_name":"all-cell-logs","user_id":"U08RN80KECX","user_name":"emmanuel.kipngetich","command":"\/lokilens","text":"what happened to this   672375962477797376  on February 2, 2025 at 23:29","api_app_id":"A08SQGEHMSL","is_enterprise_install":"false","response_url":"https:\/\/hooks.slack.com\/commands\/T08RN80K1N3\/8889852791730\/HYKrunJbwRg1GSRPR5xU2chW","trigger_id":"8889852792018.8872272647751.0f9dd6d885c8271231b32abc9a383577"},"type":"slash_commands","accepts_response_payload":true})
2025-05-13 11:10:22,099 - slack_bolt.App - DEBUG - [client.py:99] - A new message enqueued (current queue size: 1)
2025-05-13 11:10:22,105 - slack_bolt.App - DEBUG - [client.py:105] - A message dequeued (current queue size: 0)
2025-05-13 11:10:22,130 - slack_bolt.App - DEBUG - [client.py:125] - Message processing started (type: slash_commands, envelope_id: cd866595-ac2e-4ded-b48c-0c44c1abfd87)
2025-05-13 11:10:22,145 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ssl_check.ssl_check.SslCheck
2025-05-13 11:10:22,158 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.request_verification.request_verification.RequestVerification
2025-05-13 11:10:22,164 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.authorization.single_team_authorization.SingleTeamAuthorization
2025-05-13 11:10:22,177 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.ignoring_self_events.ignoring_self_events.IgnoringSelfEvents
2025-05-13 11:10:22,189 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.url_verification.url_verification.UrlVerification
2025-05-13 11:10:22,202 - slack_bolt.App - DEBUG - [app.py:561] - Applying slack_bolt.middleware.attaching_function_token.attaching_function_token.AttachingFunctionToken
2025-05-13 11:10:22,215 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_loki_command ...
2025-05-13 11:10:22,222 - slack_bolt.App - DEBUG - [app.py:588] - Checking listener: handle_lokilens_command ...
2025-05-13 11:10:22,234 - slack_bolt.App - DEBUG - [app.py:612] - Running listener: handle_lokilens_command ...
2025-05-13 11:10:22,247 - slack - INFO - [slack_app.py:206] - Received /lokilens command: {'token': 'K4ZhpQOf4Bh1W7IgNZugkX3V', 'team_id': 'T08RN80K1N3', 'team_domain': 'cell-logs', 'channel_id': 'C08RN80PTP1', 'channel_name': 'all-cell-logs', 'user_id': 'U08RN80KECX', 'user_name': 'emmanuel.kipngetich', 'command': '/lokilens', 'text': 'what happened to this   672375962477797376  on February 2, 2025 at 23:29', 'api_app_id': 'A08SQGEHMSL', 'is_enterprise_install': 'false', 'response_url': 'https://hooks.slack.com/commands/T08RN80K1N3/8889852791730/HYKrunJbwRg1GSRPR5xU2chW', 'trigger_id': '8889852792018.8872272647751.0f9dd6d885c8271231b32abc9a383577'}
2025-05-13 11:10:22,260 - slack - DEBUG - [slack_app.py:211] - Command text: what happened to this   672375962477797376  on February 2, 2025 at 23:29
2025-05-13 11:10:22,266 - slack - INFO - [slack_app.py:220] - Starting natural language parsing
2025-05-13 11:10:22,272 - slack_bolt.App - DEBUG - [thread_runner.py:202] - Responding with status: 200 body: "" (25 millis)
2025-05-13 11:10:22,279 - slack - INFO - [slack_app.py:87] - Parsing natural language input: what happened to this   672375962477797376  on February 2, 2025 at 23:29
2025-05-13 11:10:22,285 - slack_bolt.App - DEBUG - [client.py:201] - Sending a message (session id: f267fd1f-4bbf-44d8-a057-6bcdef78604b, message: {"envelope_id": "cd866595-ac2e-4ded-b48c-0c44c1abfd87"})
2025-05-13 11:10:22,292 - slack - DEBUG - [slack_app.py:105] - Sending request to OpenAI for parsing
2025-05-13 11:10:22,317 - slack_bolt.App - DEBUG - [internals.py:42] - Response time: 173 milliseconds
2025-05-13 11:10:22,338 - openai._base_client - DEBUG - [_base_client.py:482] - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-2aa93875-92ed-4efe-8943-6f9bd6d52514', 'json_data': {'messages': [{'role': 'user', 'content': "\n    Parse the following text into a search ID and a time range.\n    The time range should be in the format YYYYMMDDHHMM (e.g., 202205130933 for May 13, 2022 at 09:33).\n    If the time is not specified, use the current time.\n    If the date is not specified, use today's date.\n    \n    Text: what happened to this   672375962477797376  on February 2, 2025 at 23:29\n    \n    Return ONLY the search ID and time range in this exact format:\n    search_id: <id>\n    time_range: <YYYYMMDDHHMM>\n    \n    Do not include any other text or explanation.\n    "}], 'model': 'gpt-4', 'max_tokens': 100}}
2025-05-13 11:10:22,338 - slack_bolt.App - DEBUG - [client.py:150] - Message processing completed (type: slash_commands, envelope_id: cd866595-ac2e-4ded-b48c-0c44c1abfd87)
2025-05-13 11:10:22,353 - openai._base_client - DEBUG - [_base_client.py:965] - Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
2025-05-13 11:10:22,378 - httpcore.connection - DEBUG - [_trace.py:47] - close.started
2025-05-13 11:10:22,393 - httpcore.connection - DEBUG - [_trace.py:47] - close.complete
2025-05-13 11:10:22,400 - httpcore.connection - DEBUG - [_trace.py:47] - connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
2025-05-13 11:10:22,616 - httpcore.connection - DEBUG - [_trace.py:47] - connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c6d3890>
2025-05-13 11:10:22,623 - httpcore.connection - DEBUG - [_trace.py:47] - start_tls.started ssl_context=<ssl.SSLContext object at 0x10a5fac30> server_hostname='api.openai.com' timeout=5.0
2025-05-13 11:10:22,659 - httpcore.connection - DEBUG - [_trace.py:47] - start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x10c212190>
2025-05-13 11:10:22,659 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.started request=<Request [b'POST']>
2025-05-13 11:10:22,666 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_headers.complete
2025-05-13 11:10:22,666 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.started request=<Request [b'POST']>
2025-05-13 11:10:22,677 - httpcore.http11 - DEBUG - [_trace.py:47] - send_request_body.complete
2025-05-13 11:10:22,684 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.started request=<Request [b'POST']>
2025-05-13 11:10:24,813 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Tue, 13 May 2025 08:10:24 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-hhmri584teit9d0pqdaekcnd'), (b'openai-processing-ms', b'1200'), (b'openai-version', b'2020-10-01'), (b'x-envoy-upstream-service-time', b'1203'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9861'), (b'x-ratelimit-reset-requests', b'8.64s'), (b'x-ratelimit-reset-tokens', b'834ms'), (b'x-request-id', b'req_f4da081fe3547f64918f75eee9955a40'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'93f0add51b4f1b5a-NBO'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
2025-05-13 11:10:24,826 - httpx - INFO - [_client.py:1025] - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-05-13 11:10:24,832 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.started request=<Request [b'POST']>
2025-05-13 11:10:24,845 - httpcore.http11 - DEBUG - [_trace.py:47] - receive_response_body.complete
2025-05-13 11:10:24,851 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.started
2025-05-13 11:10:24,858 - httpcore.http11 - DEBUG - [_trace.py:47] - response_closed.complete
2025-05-13 11:10:24,870 - openai._base_client - DEBUG - [_base_client.py:1003] - HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Tue, 13 May 2025 08:10:24 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-hhmri584teit9d0pqdaekcnd', 'openai-processing-ms': '1200', 'openai-version': '2020-10-01', 'x-envoy-upstream-service-time': '1203', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9861', 'x-ratelimit-reset-requests': '8.64s', 'x-ratelimit-reset-tokens': '834ms', 'x-request-id': 'req_f4da081fe3547f64918f75eee9955a40', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '93f0add51b4f1b5a-NBO', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
2025-05-13 11:10:24,877 - openai._base_client - DEBUG - [_base_client.py:1011] - request_id: req_f4da081fe3547f64918f75eee9955a40
2025-05-13 11:10:24,891 - slack - DEBUG - [slack_app.py:114] - Received parsing response: search_id: 672375962477797376
time_range: 202502022329
2025-05-13 11:10:24,896 - slack - INFO - [slack_app.py:123] - Successfully parsed input - search_id: 672375962477797376, time_range: 202502022329
2025-05-13 11:10:24,896 - slack - INFO - [slack_app.py:222] - Parsed input - search_id: 672375962477797376, time_range: 202502022329
2025-05-13 11:10:24,903 - slack - INFO - [slack_app.py:225] - Searching logs using MCP client
2025-05-13 11:10:24,903 - mcp - INFO - [mcp_client.py:313] - Searching logs for ID: 672375962477797376 with time ranges: ['202502022329']
2025-05-13 11:10:24,903 - mcp - ERROR - [mcp_client.py:330] - Error searching logs for time range 202502022329: 'LogSearchClient' object has no attribute '_search_logs_for_time_range'
2025-05-13 11:10:24,909 - slack - DEBUG - [slack_app.py:227] - MCP client response: {'error': 'No logs found for any of the search patterns', 'results': {}}
2025-05-13 11:10:24,909 - slack - ERROR - [slack_app.py:231] - MCP client error: No logs found for any of the search patterns
2025-05-13 11:10:24,910 - slack_bolt.App - DEBUG - [base_client.py:265] - Sending a request - url: https://slack.com/api/chat.postMessage, query_params: {}, body_params: {}, files: {}, json_body: {'channel': 'C08RN80PTP1', 'text': 'Error searching logs: No logs found for any of the search patterns', 'team_id': 'T08RN80K1N3'}, headers: {'Content-Type': 'application/json;charset=utf-8', 'Authorization': '(redacted)', 'User-Agent': 'Python/3.13.3 slackclient/3.35.0 Darwin/24.4.0'}
2025-05-13 11:10:25,911 - slack_bolt.App - DEBUG - [base_client.py:556] - Received the following response - status: 200, headers: {'date': 'Tue, 13 May 2025 08:10:25 GMT', 'server': 'Apache', 'vary': 'Accept-Encoding', 'x-slack-req-id': '5d930b926c97feb1bc46ecffbb4e1799', 'x-content-type-options': 'nosniff', 'x-xss-protection': '0', 'pragma': 'no-cache', 'cache-control': 'private, no-cache, no-store, must-revalidate', 'expires': 'Sat, 26 Jul 1997 05:00:00 GMT', 'content-type': 'application/json; charset=utf-8', 'x-accepted-oauth-scopes': 'chat:write', 'x-oauth-scopes': 'commands,chat:write', 'access-control-expose-headers': 'x-slack-req-id, retry-after', 'access-control-allow-headers': 'slack-route, x-slack-version-ts, x-b3-traceid, x-b3-spanid, x-b3-parentspanid, x-b3-sampled, x-b3-flags', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'referrer-policy': 'no-referrer', 'x-slack-unique-id': 'aCL-ccoSY2097UvDkbiItQAAAD0', 'x-slack-backend': 'r', 'access-control-allow-origin': '*', 'content-length': '885', 'via': '1.1 slack-prod.tinyspeck.com, envoy-www-iad-taeutpzk,envoy-edge-bom-bhgpycno', 'x-envoy-attempt-count': '1', 'x-envoy-upstream-service-time': '399', 'x-backend': 'main_normal main_canary_with_overflow main_control_with_overflow', 'x-server': 'slack-www-hhvm-main-iad-durb', 'x-slack-shared-secret-outcome': 'no-match', 'x-edge-backend': 'envoy-www', 'x-slack-edge-shared-secret-outcome': 'no-match', 'connection': 'close'}, body: {"ok":true,"channel":"C08RN80PTP1","ts":"1747123825.845959","message":{"user":"U08SQGNTJU8","type":"message","ts":"1747123825.845959","bot_id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","text":"Error searching logs: No logs found for any of the search patterns","team":"T08RN80K1N3","bot_profile":{"id":"B08SQGNSACQ","app_id":"A08SQGEHMSL","user_id":"U08SQGNTJU8","name":"Lokilens","icons":{"image_36":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_36.png","image_48":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/bot_48.png","image_72":"https:\/\/a.slack-edge.com\/80588\/img\/plugins\/app\/service_72.png"},"deleted":false,"updated":1747104773,"team_id":"T08RN80K1N3"},"blocks":[{"type":"rich_text","block_id":"O2ay7","elements":[{"type":"rich_text_section","elements":[{"type":"text","text":"Error searching logs: No logs found for any of the search patterns"}]}]}]}}
